(function(e){function t(t){for(var n,o,a=t[0],c=t[1],l=t[2],p=0,d=[];p<a.length;p++)o=a[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==i[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0035":function(e,t,r){e.exports=r.p+"media/notification.7fc96137.mp3"},"01df":function(e,t,r){e.exports=r.p+"img/link.15c137ee.svg"},"0679":function(e,t,r){e.exports=r.p+"img/icon-email.3e4d7e16.svg"},"0e09":function(e,t,r){e.exports=r.p+"img/housing.f30f607e.svg"},1:function(e,t){},"12aa":function(e,t,r){e.exports=r.p+"img/icon.1d70e116.svg"},"144a":function(e,t,r){e.exports=r.p+"img/file-upload.e6223ebe.svg"},"1b29":function(e,t,r){e.exports=r.p+"img/pen2.5366cd1f.svg"},"1f69":function(e,t,r){e.exports=r.p+"img/menu.4ea21359.svg"},"1f6a":function(e,t,r){e.exports=r.p+"img/background-footer2.a56d33d8.svg"},"22f9":function(e,t,r){e.exports=r.p+"media/heroHeader.82de613d.mp4"},"237e":function(e,t,r){e.exports=r.p+"img/read-mode.8736586a.svg"},"282d":function(e,t,r){e.exports=r.p+"img/close2.f6b45b95.svg"},2854:function(e,t,r){e.exports=r.p+"img/camera-regular.96d1c9e4.svg"},"2d85":function(e,t,r){e.exports=r.p+"img/rolling.8e472bf5.svg"},4093:function(e,t,r){e.exports=r.p+"img/location.35d5fff1.svg"},4437:function(e,t,r){},4555:function(e,t,r){var n={"./1.svg":"5aac","./2.svg":"d917","./3.svg":"5595","./Spinner-1s-200px.svg":"4ba6","./airport-taxi.svg":"85dd","./arrows.svg":"a4f9","./background-footer.svg":"bca3","./background-footer2.svg":"1f6a","./bin.svg":"b143","./bin2.svg":"8ead","./business.svg":"55f6","./camera-regular.svg":"2854","./clean.svg":"9c1d","./close.svg":"bb7c","./close2.svg":"282d","./communications.svg":"afee","./double-bed.svg":"7c64","./downloading.svg":"94df","./downloading2.svg":"9378","./facebook.svg":"7e4b","./file-upload.svg":"144a","./food.svg":"4a1e","./help.svg":"e336","./homepage.svg":"dd1f","./hot-water.svg":"da1c","./housing.svg":"0e09","./icon-email.svg":"0679","./icon-location.svg":"7d41","./icon-location2.svg":"8d59","./icon-phone.svg":"a5aa","./icon.svg":"12aa","./image.svg":"d17f","./instegram.svg":"c2d3","./link.svg":"01df","./linkdin.svg":"ecda","./loading.svg":"e96b","./loading2.svg":"db8f","./location.svg":"4093","./log-in.svg":"4705","./maps-and-flags.svg":"eb72","./menu.svg":"1f69","./notification.svg":"720f","./ok.svg":"a163","./ok2.svg":"f583","./pen.svg":"c62c","./pen2.svg":"1b29","./plus.svg":"4eb1","./project.svg":"ac83","./read-mode.svg":"237e","./read-mode2.svg":"57f4","./rolling.svg":"2d85","./rolling2.svg":"a783","./save.svg":"bc10","./send.svg":"f95f","./single-bed.svg":"c33a","./technology.svg":"dc56","./tool.svg":"e461","./user-profile.svg":"7671","./wifi.svg":"aa5c"};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="4555"},4705:function(e,t,r){e.exports=r.p+"img/log-in.5e9944fb.svg"},"4a1e":function(e,t,r){e.exports=r.p+"img/food.a3a3bfba.svg"},"4ba6":function(e,t,r){e.exports=r.p+"img/Spinner-1s-200px.96c9a03f.svg"},"4eb1":function(e,t,r){e.exports=r.p+"img/plus.cf80b850.svg"},5539:function(e,t,r){"use strict";var n=r("4437"),i=r.n(n);i.a},5595:function(e,t,r){e.exports=r.p+"img/3.2a284afc.svg"},"55f6":function(e,t,r){e.exports=r.p+"img/business.1a0061e6.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"screen"}),r("nav-bar"),r("router-view"),r("main-footer")],1)},s=[],o=(r("96cf"),r("1da1")),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-bar-container",class:{scrollering:e.isScrollering,"off-line":e.offLine}},[n("nav",{staticClass:"nav-bar width-container flex bet"},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"logo",attrs:{src:r("e336"),alt:"Logo"},on:{click:e.onCloseMenu}})]),e.isProjListOpen?e._e():n("section",{staticClass:"line-search-nav-bar flex a-center j-center"},[n("input",{attrs:{type:"search",placeholder:"Search Project"},on:{input:e.onGoToSearchPage}}),n("svg",{attrs:{title:"See All",role:"presentation",viewBox:"0 0 32 32",width:"14",height:"14",fill:"none",stroke:"#ffedb8","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"},on:{click:e.onGoToSearchPage}},[n("circle",{attrs:{cx:"14",cy:"14",r:"12"}}),n("path",{attrs:{d:"M23 23 L30 30"}})])]),n("div",{staticClass:"nav-link-container flex col",class:{"open-menu":e.openMenu}},[e.isProjListOpen?e._e():n("section",{staticClass:"line-search-nav-bar flex a-center j-center"},[n("input",{attrs:{type:"search",placeholder:"Search Project"},on:{input:e.onGoToSearchPage}}),n("svg",{attrs:{title:"See All",role:"presentation",viewBox:"0 0 32 32",width:"14",height:"14",fill:"none",stroke:"#ffedb8","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"},on:{click:e.onGoToSearchPage}},[n("circle",{attrs:{cx:"14",cy:"14",r:"12"}}),n("path",{attrs:{d:"M23 23 L30 30"}})])]),n("section",{staticClass:"link-container",on:{click:e.onCloseMenu}},[n("router-link",{attrs:{"active-class":"active",to:"/",title:"Home",exact:""}},[n("img",{attrs:{src:r("dd1f"),alt:""}}),n("span",[e._v("Home")])])],1),n("section",{staticClass:"link-container",on:{click:e.onCloseMenu}},[n("router-link",{attrs:{"active-class":"active",to:"/proj",title:"Let's Publish"}},[n("img",{attrs:{src:r("ac83"),alt:""}}),n("span",[e._v("Publish")])])],1),e.loggedinUser?n("a",{attrs:{"active-class":"active",title:"Logout"},on:{click:e.logout}},[n("img",{attrs:{src:r("4705"),alt:""}}),n("span",[e._v("Logout")])]):n("section",{staticClass:"link-container",on:{click:e.onCloseMenu}},[n("router-link",{attrs:{to:"/login","active-class":"active",title:"Login"}},[n("img",{attrs:{src:r("4705"),alt:""}}),n("span",[e._v("Login")])])],1),n("section",{staticClass:"link-container img-user-link",on:{click:e.onCloseMenu}},[e.loggedinUser?n("router-link",{attrs:{to:"/user/"+e.loggedinUser._id,"active-class":"active"}},[n("img",{staticClass:"img-user",attrs:{src:e.loggedinUser.imgUrl,title:e.loggedinUser.fullName}}),n("section",{staticClass:"container-notification-icon"},[n("img",{attrs:{src:r("720f"),alt:""}}),n("span",[e._v(e._s(e.loggedinUser.notifications.length))])]),n("span",[e._v("My Profile")])]):e._e()],1),n("section",{staticClass:"categories-contianer"},[n("a",{class:{active:e.isActive},attrs:{href:"#",title:"Categories"},on:{click:e.toglleActive}},[n("img",{attrs:{src:r("e461"),alt:""}}),n("span",[e._v("Categories")]),n("img",{class:{"arrow-down":e.isActive},attrs:{src:r("94df"),alt:""}})]),n("transition",{attrs:{name:"fade"}},[e.isActive?n("div",{staticClass:"accordion-categories",on:{click:function(t){e.isActive=!e.isActive}}},[n("section",{staticClass:"link-container",on:{click:e.onCloseMenu}},e._l(e.categories,(function(t){return n("router-link",{key:t.category,attrs:{to:"/projs/"+t.category}},[e._v(e._s(t.title))])})),1)]):e._e()])],1)]),n("img",{staticClass:"hamburger",class:{"open-menu":e.openMenu},attrs:{src:r("1f69"),alt:""},on:{click:function(t){return t.stopPropagation(),e.toggleMemu(t)}}})],1)])},c=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"login-page height-container"},[e.isSaveLoading?n("div",{staticClass:"save-loading"},[n("img",{attrs:{src:r("a783"),alt:""}})]):e._e(),e.credentials&&!e.isSignup?n("form",{staticClass:"flex col",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("h1",[e._v("Log-in")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.username,expression:"credentials.username"}],ref:"username",staticClass:"my-form",attrs:{type:"text",placeholder:"User Name",required:""},domProps:{value:e.credentials.username},on:{input:function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}}),n("button",{staticClass:"login-btn",attrs:{type:"submit"}},[e._v("Login")]),n("h3",[e._v(" Don't have an account? "),n("span",{staticClass:"login-link",on:{click:function(t){t.stopPropagation(),e.isSignup=!0}}},[e._v("Signup")])])]):e._e(),e.newUserCred&&e.isSignup?n("form",{staticClass:"flex col",on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[n("h1",[e._v("Sign-UP")]),n("section",{staticClass:"signup-form flex col"},[n("avatar-edit",{attrs:{url:e.newUserCred.imgUrl,isLoading:e.isLoading}}),n("section",{staticClass:"flex col"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserCred.fullName,expression:"newUserCred.fullName"}],ref:"fullName",attrs:{type:"text",placeholder:"Full Name",required:""},domProps:{value:e.newUserCred.fullName},on:{input:function(t){t.target.composing||e.$set(e.newUserCred,"fullName",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserCred.username,expression:"newUserCred.username"}],ref:"username",attrs:{type:"text",placeholder:"User Name",required:""},domProps:{value:e.newUserCred.username},on:{input:function(t){t.target.composing||e.$set(e.newUserCred,"username",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserCred.password,expression:"newUserCred.password"}],ref:"password",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.newUserCred.password},on:{input:function(t){t.target.composing||e.$set(e.newUserCred,"password",t.target.value)}}}),n("button",[e._v("Sign-Up")]),n("h3",{staticClass:"flex a-center j-center",staticStyle:{display:"block",height:"5px"}},[e._v(" Go back to "),n("span",{staticClass:"login-link",on:{click:function(t){t.stopPropagation(),e.isSignup=!1}}},[e._v("Login")])])])],1)]):e._e()])])},u=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"avatar-edit"},[n("transition",{attrs:{name:"fade"}},[e.playVideo?n("myVideo",{on:{stopVideo:e.toggleVideo}}):e._e()],1),n("section",{staticClass:"container-img container-img-profile pointer flex j-center",class:{"open-select":e.openSelect},on:{click:function(t){t.stopPropagation(),e.openSelect=!e.openSelect}}},[e.url?n("img",{staticClass:"avatar avatar-m",attrs:{src:e.url,title:"Replace profile picture"}}):e.isLoading?n("img",{staticClass:"avatar avatar-m",attrs:{src:r("2d85"),title:"Replace profile picture"}}):n("img",{staticClass:"avatar avatar-m",attrs:{src:r("7671"),title:"Set profile picture"}}),n("transition",{attrs:{name:"fade"}},[e.openSelect?n("section",{staticClass:"select",on:{click:function(t){e.openSelect=!e.openSelect}}},[n("label",[n("input",{attrs:{type:"file",hidden:""},on:{change:e.uploadImg}}),n("li",{staticClass:"upload"},[e._v("Upload a photo")])]),n("li",{on:{click:e.toggleVideo}},[e._v("Turn on camera")])]):e._e()])],1)],1)},d=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"my-video"},[n("header",{staticClass:"flex a-center bet"},[n("img",{attrs:{src:r("bb7c"),title:"Stop taking pictures"},on:{click:function(t){return e.$emit("stopVideo")}}}),e.profile?n("img",{attrs:{src:r("a4f9"),title:"Take a picture again"},on:{click:e.play}}):e._e()]),n("div",{staticClass:"container-canvas-video"},[e.profile?n("img",{staticClass:"profile-img",attrs:{src:e.profile,alt:""}}):e._e(),n("video",{ref:"video",class:{"stop-video":e.profile,loading:e.loading},attrs:{autoplay:"",preload:"none",muted:"muted"},domProps:{muted:!0},on:{loadstart:function(t){e.loading=!0},loadeddata:function(t){e.loading=!1}}},[n("source",{attrs:{src:r("e96b")}})])]),n("canvas",{ref:"canvas",staticClass:"my-canvas",attrs:{width:"400",height:"300"}}),e.profile?n("div",{staticClass:"confirm-img-contianer"},[e.profile?n("img",{attrs:{src:r("a163"),title:"Confirm"},on:{click:e.uploadImg}}):e._e()]):n("div",{staticClass:"capture-img-contianer"},[n("img",{attrs:{src:r("d17f"),title:"Take my photo"},on:{click:e.capture}})]),n("footer")])},m=[],f=(r("4160"),r("159b"),new n["default"]),v={name:"my-video",data:function(){return{video:{},canvas:{},context:{},profile:null,loading:!1,screenWidth:null,vgaConstraints:{}}},mounted:function(){console.log(window.innerHeight),this.setVidoeCanvasWidth()},beforeDestroy:function(){this.stop()},methods:{setVidoeCanvasWidth:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("hi"),e.video!==e.$refs.video){t.next=6;break}return t.next=4,e.stop();case 4:t.next=8;break;case 6:e.video=e.$refs.video,e.canvas=e.$refs.canvas;case 8:e.screenWidth=window.innerWidth,e.vgaConstraints=e.screenWidth<440?{video:{width:{exact:e.screenWidth},height:{exact:window.innerHeight-180}}}:{video:{width:{exact:400},height:{exact:300}}},e.canvas.width=e.vgaConstraints.video.width.exact,e.canvas.height=e.vgaConstraints.video.height.exact,e.context=e.canvas.getContext("2d"),e.context.translate(e.canvas.width,0),e.context.scale(-1,1),e.play();case 16:case"end":return t.stop()}}),t)})))()},stop:function(){this.video.srcObject.getTracks().forEach((function(e){return e.stop()}))},play:function(){var e=this;this.profile=null,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(this.vgaConstraints).then((function(t){e.video.srcObject=t,e.video.play()}))},capture:function(){this.context.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.profile=this.canvas.toDataURL("image/png"),this.stop()},uploadImg:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:f.$emit("uploadImg",e.profile),e.$emit("stopVideo");case 2:case"end":return t.stop()}}),t)})))()}}},h=v,w=r("2877"),y=Object(w["a"])(h,g,m,!1,null,null,null),j=y.exports,b={props:{url:String,isLoading:Boolean},data:function(){return{playVideo:!1,openSelect:!1}},created:function(){},mounted:function(){document.addEventListener("click",this.handleClick),document.addEventListener("keydown",this.handlePress)},beforeDestroy:function(){document.removeEventListener("click",this.handleClick),document.removeEventListener("keydown",this.handlePress)},methods:{handleClick:function(e){this.openSelect&&(this.openSelect=!1)},handlePress:function(e){27===e.keyCode&&this.handleClick()},uploadImg:function(e){f.$emit("uploadImg",e)},toggleVideo:function(){this.playVideo=!this.playVideo,document.body.classList.toggle("vidoe-open")}},components:{myVideo:j}},x=b,C=Object(w["a"])(x,p,d,!1,null,null,null),_=C.exports,k={name:"Login",data:function(){return{credentials:null,isSignup:!1,isLoading:!1,isSaveLoading:!1}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.credentials={username:"",password:""};case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){this.$refs.username.focus(),f.$on("uploadImg",this.uploadImg)},destroyed:function(){f.$off("uploadImg",this.uploadImg)},methods:{login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleLoading(),t.next=3,e.$store.dispatch({type:"login",credentials:e.credentials});case 3:r=t.sent,e.toggleLoading(),"err"!==r?(e.$notify({title:"Success",message:"".concat(r.fullName," login successfully!"),type:"success",duration:2500}),e.goBack(),f.$emit("connectSockets")):(e.$notify({title:"Warning",message:"The username or password is incorrect",type:"warning",duration:2500}),e.reset(),e.$refs.username.focus());case 6:case"end":return t.stop()}}),t)})))()},signup:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.newUserCred.fullName.length<3)){t.next=4;break}return e.$notify({title:"Warning",message:"Full-Name is too short",type:"warning",duration:2500}),e.$refs.fullName.focus(),t.abrupt("return");case 4:if(!(e.newUserCred.username.length<3)){t.next=8;break}return e.$notify({title:"Warning",message:"Username is too short",type:"warning",duration:2500}),e.$refs.username.focus(),t.abrupt("return");case 8:if(!(e.newUserCred.password.length<3)){t.next=12;break}return e.$notify({title:"Warning",message:"Password is too short",type:"warning",duration:2500}),e.$refs.password.focus(),t.abrupt("return");case 12:return e.toggleLoading(),t.next=15,e.$store.dispatch({type:"signup",newUserCred:e.newUserCred});case 15:t.sent,e.toggleLoading(),e.goBack(),f.$emit("connectSockets");case 19:case"end":return t.stop()}}),t)})))()},reset:function(){this.credentials.username="",this.credentials.password=""},goBack:function(){this.$router.go(-1)},uploadImg:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=JSON.parse(JSON.stringify(t.newUserCred)),t.isLoading=!0,n.imgUrl=null,t.$store.dispatch({type:"setNewUserCred",newUserCred:n}),r.next=6,t.$store.dispatch({type:"addImg",imgEv:e});case 6:i=r.sent,t.isLoading=!1,n.imgUrl=i,t.$store.dispatch({type:"setNewUserCred",newUserCred:n});case 10:case"end":return r.stop()}}),r)})))()},removeUser:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"removeUser",userId:e});case 2:r.sent;case 3:case"end":return r.stop()}}),r)})))()},toggleLoading:function(){this.isSaveLoading=!this.isSaveLoading,document.body.classList.toggle("loading-active")}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},newUserCred:function(){return JSON.parse(JSON.stringify(this.$store.getters.newUserCred))}},components:{avatarEdit:_}},U=k,R=Object(w["a"])(U,l,u,!1,null,null,null),P=R.exports;r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("4d63"),r("ac1f"),r("25f0"),r("5319"),r("841c");function $(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function O(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function S(e){var t="";while(t.length<e){var r=$(3,6),n=N(r);Math.random()>.9&&(n+=","),t+=n+" "}return t=t.substring(0,e),t=t[0].toUpperCase()+t.substr(1),t}function A(){var e="abcdefghijklmnopqrstuvwxyz",t=parseInt(Math.random()*e.length);return e.charAt(t)}function N(e){var t="";while(t.length<e){var r=A();t+=r}return t}var E=new URLSearchParams(window.location.search);E.get("myParam");function L(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var M={getRandomInt:$,makeLorem:S,makeId:O,getParameterByName:L};function I(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}function T(e,t){localStorage[e]=JSON.stringify(t)}var B={load:I,store:T},F=(r("99af"),r("a15b"),r("1276"),r("bc3a")),D=r.n(F),W="AIzaSyBTEWMtjziTWSwBzkhZYC3jc-q2KAXBkkE",q={searchPosition:H,getPosition:V,GAPI_KEY:W};function H(e){return z.apply(this,arguments)}function z(){return z=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,i,s,o,a,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t.split(" ").join("+"),"&key=").concat(W,"&language=en&region=US"));case 2:for(r=e.sent,console.log(r),e.prev=4,n=r.data.results[0].geometry.location,i=r.data.results[0].address_components.length,s=r.data.results[0].address_components,o=0;o<i;o++)for(a=0;a<s[o].types.length;a++)"country"===s[o].types[a]&&(c=s[o].long_name,l=s[o].short_name),"locality"===s[o].types[a]&&s[o].long_name,"administrative_area_level_1"===s[o].types[a]&&(u=s[o].long_name);return n.country=c,n.short_country=l,n.region=u,e.abrupt("return",n);case 15:e.prev=15,e.t0=e["catch"](4),console.error("Address not found");case 18:case"end":return e.stop()}}),e,null,[[4,15]])}))),z.apply(this,arguments)}function V(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))}var J="/api/",Y=D.a.create({withCredentials:!0}),G={get:function(e,t){return K(e,"GET",t)},post:function(e,t){return K(e,"POST",t)},put:function(e,t){return K(e,"PUT",t)},delete:function(e,t){return K(e,"DELETE",t)}};function K(e){return Z.apply(this,arguments)}function Z(){return Z=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,i,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"get",n=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,Y({method:r,url:"".concat(J).concat(t),data:n});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:if(e.prev=9,e.t0=e["catch"](2),401!==e.t0.response.status){e.next=13;break}return e.abrupt("return","err");case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),Z.apply(this,arguments)}var X="loggedinUser",Q="usersCount";function ee(){return te.apply(this,arguments)}function te(){return te=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=B.load(Q),t){e.next=8;break}return r=new URLSearchParams,r.set("count",!0),e.next=6,G.get("user?".concat(r));case 6:t=e.sent,B.store(Q,t);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function re(e){var t=B.load(Q);t&&(t+=e,B.store(Q,t))}function ne(){var e=fe();return e?{_id:e._id,fullName:e.fullName,imgUrl:e.imgUrl}:{fullName:"Anonymous",imgUrl:"../../assets/svg/user-profile.svg"}}function ie(e){return se.apply(this,arguments)}function se(){return se=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",G.get("user/".concat(t)));case 1:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function oe(e){return G.delete("user/".concat(e))}function ae(e){return G.put("user/".concat(e._id),e)}function ce(e){return le.apply(this,arguments)}function le(){return le=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G.post("auth/login",t);case 2:return r=e.sent,e.abrupt("return",we(r));case 4:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function ue(e){return pe.apply(this,arguments)}function pe(){return pe=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return sessionStorage.clear(),t.joinAt={date:ye(new Date),time:je(new Date)},t.karma=5,e.next=5,q.getPosition();case 5:return r=e.sent,t.position={lat:r.coords.latitude,lng:r.coords.longitude},sessionStorage.setItem(X,JSON.stringify(t)),e.next=10,G.post("auth/signup",t);case 10:return n=e.sent,e.abrupt("return",we(n));case 12:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function de(){return ge.apply(this,arguments)}function ge(){return ge=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G.post("auth/logout");case 2:return t=e.sent,sessionStorage.clear(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function me(){return G.get("user")}function fe(){return JSON.parse(sessionStorage.getItem(X))}function ve(e){return{_id:e._id,fullName:e.fullName,imgUrl:e.imgUrl}}function he(){return{username:"",password:"",fullName:"",imgUrl:"https://image.flaticon.com/icons/svg/1837/1837526.svg",isAdmin:!1,notifications:[]}}function we(e){return sessionStorage.setItem(X,JSON.stringify(e)),e}function ye(e){return e.getFullYear()+"-"+be(e.getMonth()+1)+"-"+be(e.getDate())}function je(e){return be(e.getHours())+":"+be(e.getMinutes())}function be(e){return e<10?"0"+e:e}var xe={login:ce,logout:de,signup:ue,getUsers:me,getById:ie,getEmptyUser:he,remove:oe,update:ae,getLoggeinUser:fe,getMinimalUser:ve,getBy:ne,getUsersCount:ee,changeUsersCount:re},Ce="projsCount",_e={getEmptyProj:Ee,query:Pe,getById:$e,save:Se,remove:Oe,getHeaderObj:Ie,loadCategoties:Me,loadTags:Le,getProjsCount:Ue,changeProjsCount:ke};function ke(e){var t=B.load(Ce);t&&(t+=e,B.store(Ce,t))}function Ue(){return Re.apply(this,arguments)}function Re(){return Re=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=B.load(Ce),t){e.next=8;break}return r=new URLSearchParams,r.set("count",!0),e.next=6,G.get("proj?".concat(r));case 6:t=e.sent,B.store(Ce,t);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function Pe(e,t,r){var n=new URLSearchParams;if(e){for(var i in e)e[i]&&n.set(i,e[i]);return t&&(n.set("limit",t),n.set("skip",r)),G.get("proj?".concat(n))}return t?(console.log(t,"limit in service front"),n.set("limit",t),G.get("proj?".concat(n))):G.get("proj")}function $e(e){return G.get("proj/".concat(e))}function Oe(e){return G.delete("proj/".concat(e))}function Se(e){return e._id?Ne(e):Ae(e)}function Ae(e){return G.post("proj",e)}function Ne(e){return G.put("proj/".concat(e._id),e)}function Ee(){return{organization:"",title:"",category:"",description:"",createdBy:{},membersNeeded:1,membersApplyed:[],date:[],startAt:"",endsAt:"",imgUrls:[],position:{txtAddress:"",lat:33.886917,lng:9.537499},requirements:{minAge:14,languages:["English"],otherSkills:[]},tags:[],rate:{average:null,length:0}}}function Le(){return["Airport Taxi","Housing","Single Bed","Double Bed","Food","Wifi","Hot Water"]}function Me(){return[{category:"childcare",title:"Child Care",imgUrl:"https://images7.design-editor.com/91/9184191/3958%2F50493C55-F17D-C782-89A5-C19900347370.jpg"},{category:"education",title:"Education",imgUrl:"https://cdn.shopify.com/s/files/1/1151/8374/articles/smaller_lead_photo_2048x.jpg?v=1523044466"},{category:"animalsAndWildlife",title:"Animals & Wildlife",imgUrl:"https://i.pinimg.com/originals/f6/b8/c2/f6b8c285b662090279a4c1f5089bb53d.jpg"},{category:"environmentalProtection",title:"Environmental Protection",imgUrl:"https://beaches.lacounty.gov/wp-content/uploads/2016/10/BeachCleaning.jpg"},{category:"farming",title:"Farming",imgUrl:"https://www.thebalancesmb.com/thmb/zLMhuQKCL24jIckZmKqw6E4n2hI=/2121x1414/filters:no_upscale():max_bytes(150000):strip_icc()/GettyImages-585859259-57997e215f9b589aa94c4243.jpg"},{category:"scubaDiving",title:"Scuba Diving",imgUrl:"https://res.klook.com/images/fl_lossy.progressive,q_65/c_fill,w_1295,h_720,f_auto/w_80,x_15,y_15,g_south_west,l_klook_water/activities/i8v1v92sfkikn0ro47ba/ScubaDivingLessonsinGuambyJNSDives.webp"},{category:"humanitarian",title:"Humanitarian",imgUrl:"https://img.rawpixel.com/s3fs-private/rawpixel_images/website_content/387-mj-5779.jpg?auto=format&bg=transparent&con=3&cs=srgb&dpr=1&fm=jpg&ixlib=php-3.1.0&mark=rawpixel-watermark.png&markalpha=90&markpad=13&markscale=10&markx=25&q=75&usm=15&vib=3&w=1400&s=19310451bd014a0ee3714a2fc0bc90b3"},{category:"healthcare",title:"Health Care",imgUrl:"https://mikedanneskjold.files.wordpress.com/2013/01/sickness-3rd-world-doctor.jpg"},{category:"sports",title:"Sports",imgUrl:"https://www.om.org/img/l23630.jpg"},{category:"art",title:"Art",imgUrl:"https://levlalev.com/wp-content/uploads/2019/06/Art-Projec-to-benefit-orphans.jpg"},{category:"humanRights",title:"Human Rigths",imgUrl:"https://i.ytimg.com/vi/fmT2soVvyLA/maxresdefault.jpg"}]}function Ie(e){var t={animalsAndWildlife:{title:"Animals And Wildlife",desc:"Wildlife conservation is the perfect volunteer opportunity to protect endangered species from extinction. Volunteer for wildlife conservation projects and help endangered species, like elephants or sloths, that are threatened by habitat loss and human influences. Care for exotic or domestic wildlife and prevent species from going extinct!",imgUrl:"https://i.insider.com/5bebcf4d66be5046a2737572?width=1136&format=jpeg"},childcare:{title:"Child Care",desc:"Volunteering with children abroad is a great opportunity to reach out to those who need help the most and discover new countries at the same time. If you love working with children, volunteer at one of the many kindergartens and daycare centers around the world that take care of children from underprivileged families who can't afford childcare.",imgUrl:"https://content3.jdmagicbox.com/comp/hyderabad/f5/040pxx40.xx40.190412140024.w6f5/catalogue/people-helping-children-hyderabad-1etcsznxqd.jpg"},environmentalProtection:{title:"Environmental Protection",desc:"Environmental volunteering abroad is your chance to protect our nature on land as well as below the water. If you love the great outdoors and hands-on work, then our nature conservancy projects will be the perfect choice for you!",imgUrl:"https://www.ocregister.com/wp-content/uploads/2018/05/hb-cleanup10-0604_.jpg"},farming:{title:"Farming",desc:"Support sustainable organic farming and educate locals on how to get the best results of their harvest whilst protecting the environment. Are you a coffee lover? Help small farmers with the work on their coffee plantations and learn where your daily morning coffee comes from.",imgUrl:"https://media.npr.org/assets/img/2017/12/15/farm-59c12ff25ccf74e5b1da779a3ca8a0205491f332.jpg"},scubaDiving:{title:"Scuba Diving",desc:"Help to restore coral reefs, carry out surveys of endangered marine life and educate tourists and locals. From diving in Belize to the Philippines or Australia, all these dream destinations are looking for scuba diving volunteers to help them protect our oceans.",imgUrl:"https://www.deeperblue.com/wp-content/uploads/2017/06/AdobeStock_50504380.jpeg"},humanitarian:{title:"Humanitarian",desc:"Volunteering for humanitarian initiatives abroad is a fantastic way to immerse yourself in a new culture and really learn from the locals. There is no better way to get to know the ins and outs of a country and its culture than working closely with the people who have grown up and been molded by these exotic and fascinating communities abroad",imgUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/CARE_International_%E2%80%93_friendship_and_love.jpg/1200px-CARE_International_%E2%80%93_friendship_and_love.jpg"},healthcare:{title:"Healthcare",desc:"Medical volunteer programs abroad are the perfect opportunities to experience the healthcare industry in a developing country. Assist local doctors and nurses with treating those who need it most. Pre-med, medical college or high school students, there are programs available for every level of medical training or experience.",imgUrl:"https://cdn1.internationalmedicalcorps.org/wp-content/uploads/2017/09/Home-tout-storms.jpg"},sports:{title:"Sports",desc:"Sports volunteering abroad is the chance to combine your love for sports with traveling the world. Whether you prefer soccer, basketball, rugby or surfing, volunteering is the perfect way to teach your favorite sports to children and pass on your passion to them.",imgUrl:"https://thinkpacific.com/app/uploads/2017/03/9-compressor-1-e1490783754821.jpg"},education:{title:"Education",desc:"Education volunteer opportunities are the perfect way to pass on your knowledge to others while learning about a new country, culture, and people at the same time. Whether you are looking to become a teacher, have teaching experience or are looking to get a TEFL certificate, there is the right volunteer program for you.",imgUrl:"https://www.israel21c.org/wp-content/uploads/2019/09/givingway-KAASO.jpg"},art:{title:"Art",desc:"Volunteer for art projects and use all your creativity to do something meaningful whilst you travel the world. Whether you play an instrument, are gifted in arts and crafts or have a passion for photography, there are many projects worldwide focusing on these topics.",imgUrl:"https://images.squarespace-cdn.com/content/v1/54ef4d4ee4b002862ddb9057/1447870457225-WPJRPU1KYVP4B1PXXCPR/ke17ZwdGBToddI8pDm48kFLLrz6BVYXLJG30R1ebmBt7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UT7hE3reOkk2moavhrBQHsmGfG-n1OUClfcxCZ1rcWKaJ14ubcdsY0uKwK2_j53OFw/image-asset.jpeg?format=1500w"},humanRights:{title:"HumanRights",desc:"Volunteer for women's empowerment projects and help to give a voice to those who are otherwise unheard. Gender equality is a big topic in the western world and more important than ever. Sometimes we forget that there are countries where women's rights are still pretty much non-existent.",imgUrl:"https://www.unv.org/sites/default/files/UNMISS_HumanRightsOfficer_Francesca_2016_cropped_0.jpg"}};return t[e]}var Te,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"search-cmp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"inputRef",class:{active:e.input.length},attrs:{type:"search",name:"input",placeholder:"Search For Project...",title:"Search By name"},domProps:{value:e.input},on:{input:[function(t){t.target.composing||(e.input=t.target.value)},e.search]}}),n("svg",{class:{active:e.input.length},attrs:{role:"presentation",viewBox:"0 0 32 32",width:"14",height:"14",fill:"none",stroke:"#ffedb8","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"}},[n("circle",{attrs:{cx:"14",cy:"14",r:"12"}}),n("path",{attrs:{d:"M23 23 L30 30"}})]),n("img",{attrs:{src:r("9378"),alt:"More option",title:e.isFiltersOpen?"Hide search options":"Show search options"},on:{click:function(t){return e.$emit("toggleFilters")}}})])},Fe=[],De={props:{value:{type:String},isFiltersOpen:Boolean},data:function(){return{input:this.value,timeoutForEmitInput:null}},mounted:function(){window.scrollTo(0,0),f.$on("goToSearchPage",this.goToSearchPage)},beforeDestroy:function(){f.$off("goToSearchPage",this.goToSearchPage)},methods:{goToSearchPage:function(e){this.$refs.inputRef.focus(),window.scrollTo(0,0),this.input=e,this.search()},search:function(){var e=this;clearTimeout(this.timeoutForEmitInput),this.timeoutForEmitInput=setTimeout((function(){e.$emit("input",e.input)}),500)}}},We=De,qe=Object(w["a"])(We,Be,Fe,!1,null,null,null),He=qe.exports,ze={data:function(){return{isScrollering:!1,openMenu:!1,offLine:!1,isActive:!1,categories:null,isProjListOpen:!1,txtSearch:""}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},methods:{onCloseMenu:function(){this.openMenu&&this.toggleMemu()},onGoToSearchPage:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e.target.value),t.openMenu&&t.toggleMemu(),r.next=4,t.$router.push("/projs/aroundTheWorld");case 4:e.target.value&&f.$emit("goToSearchPage",e.target.value);case 5:case"end":return r.stop()}}),r)})))()},logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return f.$emit("disconnectSockets"),t.next=3,e.$store.dispatch({type:"logout"});case 3:r=t.sent,r&&e.$notify({title:"Success",message:"The logout operation was successful",type:"success",duration:1500}),e.onCloseMenu();case 6:case"end":return t.stop()}}),t)})))()},handleScroll:function(){this.isScrollering=!0,0===window.scrollY&&(this.isScrollering=!1)},toggleMemu:function(){console.log(123),this.isActive=!1,this.openMenu=!this.openMenu,document.body.classList.toggle("menu-open")},handleClick:function(e){this.isActive&&(this.isActive=!1),this.openMenu&&this.toggleMemu()},handlePress:function(e){27===e.keyCode&&this.handleClick()},toglleActive:function(){this.isActive=!this.isActive},setTitle:function(){document.title=this.loggedinUser?"(".concat(this.loggedinUser.notifications.length,") Walkways"):"Walkways"}},created:function(){"/projs/aroundTheWorld"===this.$route.path&&(this.isProjListOpen=!0),this.categories=_e.loadCategoties()},mounted:function(){this.setTitle(),document.querySelector(".screen").addEventListener("click",this.handleClick),document.addEventListener("keydown",this.handlePress)},beforeDestroy:function(){document.querySelector(".screen").removeEventListener("click",this.handleClick),document.removeEventListener("keydown",this.handlePress)},components:{searchCmp:He},watch:{loggedinUser:function(){this.setTitle()},"$route.path":{handler:function(){"/projs/aroundTheWorld"===this.$route.path?this.isProjListOpen=!0:this.isProjListOpen=!1},deep:!0}}},Ve=ze,Je=Object(w["a"])(Ve,a,c,!1,null,null,null),Ye=Je.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main-footer"},[n("div",{staticClass:"width-container inside-footer-container flex col a-start j-center"},[n("section",[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"logo",attrs:{src:r("e336"),alt:"Logo"}})])],1),n("div",{staticClass:"content-container-footer flex col bet"},[e._m(0),e._m(1),n("ul",[n("li",[n("router-link",{staticClass:"router-link",attrs:{to:"/"}},[e._v("Home")])],1),n("li",[n("router-link",{staticClass:"router-link",attrs:{to:"/proj"}},[e._v("Publish")])],1),n("li",[n("router-link",{staticClass:"router-link",attrs:{to:"/projs/aroundTheWorld"}},[e._v("All Projects")])],1),e._m(2)]),e._m(3),e._m(4)])])])},Ke=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex a-start col bet logo-location-container"},[n("img",{staticClass:"img-svg cursor-initial",attrs:{src:r("7d41")}}),n("p",[e._v("WalkWays is the world’s leading volunteering platform. We show you how to volunteer abroad! Search & compare the best international volunteer programs offered by volunteer organizations and local NGOs with just a few clicks.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"phone-email-container flex col around"},[n("div",{staticClass:"flex a-center not-allowed"},[n("img",{attrs:{src:r("a5aa")}}),n("p",[e._v("+1-543-123-4567")])]),n("div",{staticClass:"flex a-center"},[n("img",{staticClass:"mail-icon",attrs:{src:r("0679")}}),n("a",{staticClass:"mail-link",attrs:{href:"mailto:walkways@info.com"}},[e._v("walkWays@info.com")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[r("span",[e._v("Blog")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("span",[e._v("Contact Us")])]),r("li",[r("span",[e._v("Terms")])]),r("li",[r("span",[e._v("Privacy")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link-svg"},[n("img",{staticClass:"img-svg",attrs:{src:r("7e4b")}}),n("img",{staticClass:"img-svg",attrs:{src:r("c2d3")}}),n("img",{staticClass:"img-svg",attrs:{src:r("ecda")}})])}],Ze={},Xe=Object(w["a"])(Ze,Ge,Ke,!1,null,null,null),Qe=Xe.exports,et=r("8055"),tt=r.n(et),rt="/",nt={setup:it,terminate:st,on:ot,off:at,emit:ct,loadMsg:lt,pushMsg:ut};function it(){Te=tt()(rt)}function st(){Te=null}function ot(e,t){Te.on(e,t)}function at(e,t){Te.off(e,t)}function ct(e,t){Te.emit(e,t)}function lt(e){return B.load(e)}function ut(e){var t=B.load(e.topic);return t?t.push(e):t=[e],B.store(e.topic,t),t}var pt={name:"App",data:function(){return{audioNotification:null,user:null}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("app created!"),nt.setup(),e.connectSockets(),e.audioNotification=new Audio(r("0035"));case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;f.$on("connectSockets",(function(){return e.connectSockets()})),f.$on("disconnectSockets",(function(){return e.disconnectSockets()})),f.$on("removeReview",(function(t){return e.removeReview(t)}))},destroyed:function(){var e=this;f.$off("connectSockets",(function(){return e.connectSockets()})),f.$off("disconnectSockets",(function(){return e.disconnectSockets()})),f.$off("removeReview",(function(t){return e.removeReview(t)})),this.loggedinUser&&this.disconnectSockets(),nt.terminate()},methods:{connectSockets:function(){this.user=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser)),this.user&&(console.log("conect socket!"),nt.on("updatedUser ".concat(this.user._id),this.updateUser))},disconnectSockets:function(){this.user=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser)),this.user&&(console.log("disconect socket!"),nt.off("updatedUser ".concat(this.user._id),this.updateUser))},removeReview:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"removeReview",reviewId:e});case 2:case"end":return r.stop()}}),r)})))()},updateUser:function(e){e?(this.$store.commit({type:"setUser",user:e}),this.audioNotification.play()):console.log("ERROR IN UPDATE USER")}},computed:{msg:function(){return this.$store.getters.msg}},components:{navBar:Ye,mainFooter:Qe}},dt=pt,gt=Object(w["a"])(dt,i,s,!1,null,null,null),mt=gt.exports,ft=r("9483");Object(ft["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var vt,ht=r("8c4f"),wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"home"},[n("div",{staticClass:"video-bcg"},[n("video",{attrs:{autoplay:"",muted:"",loop:"",id:"myVideo"},domProps:{muted:!0}},[n("source",{attrs:{src:r("22f9"),type:"video/mp4"}})])]),n("div",{staticClass:"overlayText"},[n("h3",{attrs:{id:"welcom-txt"}},[e._v("WalkWays")]),n("p",[e._v(" “The best way to find yourself is to lose yourself in the service of others.” "),n("br"),n("span",{staticClass:"gandy"},[e._v("Mahatma Gandhi")])])]),n("section",{staticClass:"divider-container width-container"},[n("h1",{staticClass:"details-header"},[e._v("Our community Activity")]),n("div",{staticClass:"walk-ways-details"},[n("h1",{staticClass:"divider"},[n("img",{attrs:{src:r("dc56")}}),e._v("Projects "),e.projsCount?n("span",{staticClass:"space"},[e._v(e._s(e.projsCount))]):n("img",{attrs:{src:r("a783"),alt:"0"}})]),n("h1",{staticClass:"divider"},[n("img",{attrs:{src:r("afee")}}),e._v("Feedbacks "),e.reviewsCount?n("span",{staticClass:"space"},[e._v(e._s(e.reviewsCount))]):n("img",{attrs:{src:r("a783"),alt:"0"}})]),e.users?n("h1",{staticClass:"divider"},[n("img",{attrs:{src:r("55f6")}}),e._v("Voulnteers "),e.usersCount?n("span",{staticClass:"space"},[e._v(e._s(e.usersCount))]):n("img",{attrs:{src:r("a783"),alt:"0"}})]):e._e()])]),n("section",{staticClass:"carousel-for-desctop width-container"},[e.currProjs.length?n("ul",{staticClass:"around-the-world-preview"},e._l(e.currProjs,(function(t,r){return n("li",{key:r,staticClass:"around-the-world-card"},[n("marker-card",{staticClass:"proj-preview-card",attrs:{proj:t,title:t.description.substring(0,80)+"... Click to read more!!"},nativeOn:{click:function(r){return e.openDetails(t._id)}}})],1)})),0):n("section",{staticClass:"loading-container"},e._l(6,(function(e){return n("img",{key:e,attrs:{src:r("e96b"),alt:""}})})),0)]),n("section",{staticClass:"carousel-for-mobile width-container"},[e.currProjs?n("proj-list-carousel",{attrs:{projs:e.currProjs}}):n("img",{attrs:{src:r("e96b"),alt:""}})],1),n("section",{staticClass:"width-container see-all flex"},[n("router-link",{staticClass:"flex",attrs:{title:"Show more about 'around the world'",to:"/projs/aroundTheWorld"}},[n("p",[e._v("All Projects")]),n("img",{attrs:{src:r("dc56"),alt:""}})])],1)])])},yt=[],jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[e.proj?r("div",[r("el-carousel",{staticClass:"ratio-16-9"},e._l(e.proj.imgUrls,(function(e){return r("el-carousel-item",{key:e},[r("img",{staticClass:"proj-img",attrs:{src:e}})])})),1),r("div",{staticClass:"proj-content"},[r("section",[r("h4",[e._v(e._s(e.proj.organization))]),r("h5",[e._v(e._s(e.proj.title))]),e.proj.position?r("div",{staticClass:"world-details"},[e.proj.position.short_country?r("img",{attrs:{src:"https://www.countryflags.io/"+e.proj.position.short_country+"/shiny/64.png"}}):e._e(),e.proj.position.city?r("h5",[e._v(e._s(e.proj.position.city)+",")]):r("h5",[e._v(e._s(e.proj.position.region)+",")]),r("h5",[e._v(e._s(e.proj.position.country))])]):e._e()]),r("section",{staticClass:"review-avarage"},[e.proj.rate.average?r("el-rate",{staticClass:"el-rate-avarage",attrs:{disabled:"","show-score":"","text-color":"#0b757d","score-template":e.proj.rate.average.toFixed(1)+" ("+e.proj.rate.length+")",colors:e.colors},model:{value:e.proj.rate.average,callback:function(t){e.$set(e.proj.rate,"average",t)},expression:"proj.rate.average"}}):r("el-rate",{staticClass:"el-rate-avarage",attrs:{disabled:"","show-score":"","text-color":"#0b757d","score-template":"0 (0)",colors:e.colors}})],1)])],1):e._e()])},bt=[],xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"review-avarage-by-id"},[e.reviews?r("review-avarage",{attrs:{reviews:e.reviews}}):e._e()],1)},Ct=[],_t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.reviews&&e.reviews.length?r("div",{staticClass:"flex a-center"},[e.reviews&&e.reviews.length?r("el-rate",{staticClass:"el-rate-avarage",attrs:{disabled:"","show-score":"","text-color":"#0b757d","score-template":e.value.toFixed(1)+" ("+e.reviews.length+")",colors:e.colors},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):r("el-rate",{staticClass:"el-rate-avarage",attrs:{disabled:"","show-score":"","text-color":"#0b757d","score-template":0,colors:e.colors}})],1):e._e()},kt=[],Ut=(r("13d5"),{props:["reviews"],data:function(){return{value:null,colors:this.$store.getters.colors}},watch:{value:function(){this.setValue()}},created:function(){this.setValue()},methods:{setValue:function(){this.value=this.reviews.reduce((function(e,t){return e+t.rate}),0)/this.reviews.length}}}),Rt=Ut,Pt=(r("5539"),Object(w["a"])(Rt,_t,kt,!1,null,"990803fe",null)),$t=Pt.exports,Ot={props:{id:String},data:function(){return{reviews:[],colors:this.$store.getters.colors}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadReviews",id:e.id});case 2:e.reviews=t.sent;case 3:case"end":return t.stop()}}),t)})))()},components:{reviewAvarage:$t}},St=Ot,At=Object(w["a"])(St,xt,Ct,!1,null,null,null),Nt=At.exports,Et={props:["proj"],components:{reviewAvarageById:Nt},data:function(){return{colors:this.$store.getters.colors}}},Lt=Et,Mt=Object(w["a"])(Lt,jt,bt,!1,null,null,null),It=Mt.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"carousel-proj-container"},e._l(e.projs,(function(t,n){return r("section",{key:n,staticClass:"carousel-proj-preview",attrs:{title:t.description.substring(0,80)+"... Click to read more!!"},on:{click:function(r){return e.openDetails(t._id)}}},[r("img",{attrs:{src:t.imgUrls[0]}}),r("div",{staticClass:"proj-content flex col bet"},[r("section",[r("h3",[e._v(e._s(t.title))]),r("h4",[e._v(e._s(t.organization))])]),r("section",[r("h5",{staticClass:"flex a-center"},[t.position.short_country?r("img",{attrs:{src:"https://www.countryflags.io/"+t.position.short_country+"/shiny/64.png"}}):e._e(),t.position.city?r("span",[e._v(e._s(t.position.city)+",")]):r("span",[e._v(e._s(t.position.region)+",")]),r("span",[e._v(e._s(t.position.country))])]),r("section",{staticClass:"review-avarage"},[t.rate.average?r("el-rate",{staticClass:"el-rate-avarage",attrs:{disabled:"","show-score":"","text-color":"#0b757d","score-template":t.rate.average.toFixed(1)+" ("+t.rate.length+")",colors:e.colors},model:{value:t.rate.average,callback:function(r){e.$set(t.rate,"average",r)},expression:"proj.rate.average"}}):r("el-rate",{staticClass:"el-rate-avarage",attrs:{disabled:"","show-score":"","text-color":"#0b757d","score-template":"0 (0)",colors:e.colors}})],1)])])])})),0)},Bt=[],Ft={props:{projs:Array},data:function(){return{colors:this.$store.getters.colors}},methods:{openDetails:function(e){this.$router.push("/proj/"+e)}},components:{reviewAvarageById:Nt}},Dt=Ft,Wt=Object(w["a"])(Dt,Tt,Bt,!1,null,null,null),qt=Wt.exports,Ht={name:"home",data:function(){return{reviews:null,categories:null,projs:[],users:[],limit:6,reviewsCount:null,projsCount:null,usersCount:null}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),e.categories=_e.loadCategoties(),t.next=4,e.$store.dispatch({type:"loadProjs",limit:e.limit});case 4:if(e.reviewsCount=e.$store.getters.reviewsCount,e.reviewsCount){t.next=9;break}return t.next=8,e.$store.dispatch({type:"loadReviewsCount"});case 8:e.reviewsCount=t.sent;case 9:if(e.projsCount=e.$store.getters.projsCount,e.projsCount){t.next=14;break}return t.next=13,e.$store.dispatch({type:"loadProjsCount"});case 13:e.projsCount=t.sent;case 14:if(e.usersCount=e.$store.getters.usersCount,e.usersCount){t.next=19;break}return t.next=18,e.$store.dispatch({type:"loadUsersCount"});case 18:e.usersCount=t.sent;case 19:case"end":return t.stop()}}),t)})))()},methods:{openDetails:function(e){this.$router.push("/proj/"+e)}},computed:{currProjs:function(){return this.$store.getters.currProjs},countriesCount:function(){return this.$store.getters.countries}},components:{markerCard:It,projListCarousel:qt}},zt=Ht,Vt=Object(w["a"])(zt,wt,yt,!1,null,null,null),Jt=Vt.exports,Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.user?n("div",{staticClass:"user-profile width-container height-container"},[e.isSaveLoading?n("div",{staticClass:"save-loading"},[n("img",{attrs:{src:r("a783"),alt:""}})]):e._e(),n("div",{staticClass:"main-content"},[n("div",[n("div",{staticClass:"user-profile-inside-container flex col a-center"},[e.loggedinUser&&e.loggedinUser._id===e.user._id?n("avatar-edit",{attrs:{url:e.user.imgUrl,isLoading:e.isLoading}}):n("div",{staticClass:"container-img"},[n("img",{staticClass:"avatar avatar-m",attrs:{src:e.user.imgUrl},on:{error:e.replaceByDefault}})]),n("div",{staticClass:"container-details-user flex col"},[e.loggedinUser&&e.loggedinUser._id===e.user._id?n("input",{directives:[{name:"model",rawName:"v-model",value:e.fullName,expression:"fullName"}],staticClass:"input-fullname",attrs:{type:"text"},domProps:{value:e.fullName},on:{input:[function(t){t.target.composing||(e.fullName=t.target.value)},e.onInputName]}}):n("p",[e._v(e._s(e.user.fullName))]),n("p",[e._v("Join At: "+e._s(e.user.joinAt.date)+", "+e._s(e.user.joinAt.time))]),e.reviews?n("review-avarage",{attrs:{reviews:e.reviews}}):e._e()],1)],1),n("transition",{attrs:{name:"fade"}},[e.projs&&e.projs.length?n("section",[n("div",{staticClass:"flex a-center bet",on:{click:e.scrollTo}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Projects By "+e._s(e.user.fullName)+" Worldwide")])])])]),n("div",{staticClass:"user-projs-container"},e._l(e.projs,(function(e){return n("user-projs",{key:e._id,attrs:{proj:e}})})),1)]):e._e()]),e.loggedinUser&&e.loggedinUser._id===e.user._id?n("section",{staticClass:"container-notification-icon width-container"},[!e.isNotificationsOpen&&e.loggedinUser?n("div",{staticClass:"pointer",class:{"not-allowed":!e.loggedinUser.notifications.length},on:{click:e.toggleNotifications}},[n("img",{attrs:{src:r("720f"),alt:""}}),n("span",[e._v(e._s(e.loggedinUser.notifications.length))])]):e._e()]):e._e(),n("transition",{attrs:{name:"fade"}},[e.loggedinUser&&e.loggedinUser.notifications?n("notification-list",{class:{"notifications-open":e.isNotificationsOpen},attrs:{notifications:e.loggedinUser.notifications,userId:e.loggedinUser._id},on:{toggleNotifications:e.toggleNotifications}}):e._e()],1)],1)]),!e.loggedinUser||e.loggedinUser&&e.loggedinUser._id!==e.user._id?n("review-add",{attrs:{review:e.review},on:{save:e.save}}):e._e(),e.reviews&&e.reviews.length?n("review-list",{attrs:{reviews:e.reviews}}):e._e(),n("div",{staticClass:"flex a-center bet",on:{click:e.scrollTo}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Location")])])])]),n("map-preview",{staticClass:"map",attrs:{array:[e.user]}})],1):n("div",{staticClass:"height-container width-contianer flex a-center j-center"},[n("img",{staticClass:"loading-page",attrs:{src:r("e96b"),alt:""}})])])},Gt=[],Kt=(r("c740"),r("a434"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.array?r("div",{staticClass:"container-map"},[e.array.length>1?r("section",[r("transition",{attrs:{name:"fade"}},[e.isShow?r("marker-card",{staticClass:"img-on-map-container",style:"top:"+e.y+"px; left:"+e.x+"px",attrs:{proj:e.object,title:"Click to view project details"},nativeOn:{click:function(t){return e.openDetails(e.object._id)}}}):e._e()],1)],1):e._e(),r("GmapMap",{ref:"mapRef",staticClass:"map",attrs:{center:e.center,zoom:e.zoom,"map-type-id":"terrain"}},e._l(e.array,(function(t,n){return r("GmapMarker",{key:n,ref:"marker"+n,refInFor:!0,class:{"not-allowed":1===e.array.length},attrs:{position:{lat:t.position.lat,lng:t.position.lng},clickable:!0,draggable:!1,icon:e.markerOptions},on:{click:function(r){return e.openImg(t,n,r)}}})})),1)],1):e._e()}),Zt=[],Xt=r("a96b"),Qt={props:{array:Array},center:{},zoom:null,data:function(){return{markerOptions:{url:Xt,size:{width:60,height:90,f:"px",b:"px"},scaledSize:{width:40,height:45,f:"px",b:"px"}},object:null,x:0,y:0,isShow:!1}},created:function(){this.center={lat:33.886917,lng:9.537499},this.zoom=1.5},methods:{setZoomAndCenter:function(){var e=this;this.array&&(this.array.length>1?(this.center={lat:33.886917,lng:9.537499},this.zoom=1.5):(this.center={lat:this.array[0].position.lat,lng:this.array[0].position.lng},this.zoom=12),setTimeout((function(){e.$refs.mapRef.$mapPromise.then((function(t){t.panTo(e.center),t.setZoom(e.zoom)}))}),1))},openImg:function(e,t,r){var n=this;if(this.$refs.mapRef.$mapPromise.then((function(t){t.panTo({lat:e.position.lat,lng:e.position.lng})})),this.zoom<12)var i=setInterval((function(){n.updateZoom(),n.zoom>=12&&clearInterval(i)}),40);setTimeout((function(){n.x=r.tb.screenX,n.y=r.tb.screenY,n.isShow=!0,n.object=e}),1)},updateZoom:function(){var e=this;this.zoom=this.zoom+.5,this.$refs.mapRef.$mapPromise.then((function(t){t.setZoom(e.zoom)}))},holdImg:function(){this.isShow=!0},handlePress:function(e){this.isShow&&(27===e.keyCode&&this.closeImg(),13===e.keyCode&&this.openDetails(this.proj._id))},closeImg:function(){this.isShow&&(this.setZoomAndCenter(),this.isShow=!1)},openDetails:function(e){this.$router.push("/proj/"+e)}},mounted:function(){document.addEventListener("click",this.closeImg),document.addEventListener("keydown",this.handlePress)},beforeDestroy:function(){document.removeEventListener("click",this.closeImg),document.removeEventListener("keydown",this.handlePress)},components:{markerCard:It},watch:{array:{handler:function(){this.array&&this.isShow||this.setZoomAndCenter()},deep:!0}}},er=Qt,tr=Object(w["a"])(er,Kt,Zt,!1,null,null,null),rr=tr.exports,nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"review-list review"},[n("h3",{staticClass:"container-link-img",on:{click:e.scrollTo}},[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Reviews")])]),e._l(e.reviews,(function(t,r){return n("div",{key:t._id},[r<e.limit?n("review-preview",{attrs:{review:t}}):e._e(),r===e.limit?n("h4",{staticClass:"show-more",on:{click:function(t){e.limit=100}}},[e._v("Show more")]):e._e()],1)})),4!==e.limit?n("h4",{staticClass:"show-more",on:{click:function(t){e.limit=4}}},[e._v("Show less")]):e._e()],2)},ir=[],sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"review-preview flex col"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.updateReview(t)}}},[n("div",{staticClass:"flex col bet"},[n("h3",{staticClass:"review-by flex a-center"},["Anonymous"===e.review.by.fullName?n("img",{staticClass:"avatar not-allowed",attrs:{src:r("7671"),alt:"",title:""}}):n("img",{staticClass:"avatar pointer",attrs:{src:e.review.by.imgUrl,alt:""},on:{click:function(t){return e.$router.push("/user/"+e.review.by._id)}}}),e._v(" "+e._s(e.reviewForUpdate.by.fullName)+" ")]),n("div",{staticClass:"flex a-center bet"},[e.isEdit?n("div",{staticClass:"add-rate-container flex a-center j-center"},[n("el-rate",{attrs:{"show-score":"","text-color":"#0b757d",colors:e.colors},model:{value:e.reviewForUpdate.rate,callback:function(t){e.$set(e.reviewForUpdate,"rate",t)},expression:"reviewForUpdate.rate"}})],1):n("el-rate",{attrs:{disabled:"","show-score":"","text-color":"rgb(85, 136, 139)",colors:e.colors},model:{value:e.reviewForUpdate.rate,callback:function(t){e.$set(e.reviewForUpdate,"rate",t)},expression:"reviewForUpdate.rate"}}),e.loggedinUser&&(e.review.by._id===e.loggedinUser._id||e.loggedinUser.isAdmin)?n("div",[n("img",{staticClass:"btn-img",attrs:{title:"Delete",src:r("8ead"),alt:""},on:{click:function(t){return t.stopPropagation(),e.removeReview(t)}}}),e.isEdit?n("img",{staticClass:"btn-img",attrs:{title:"Stop update",src:r("57f4"),alt:""},on:{click:function(t){e.isEdit=!e.isEdit}}}):n("img",{staticClass:"btn-img",attrs:{title:"Update",src:r("1b29"),alt:""},on:{click:function(t){e.isEdit=!e.isEdit}}})]):e._e()],1)]),e.isEdit?n("div",{staticClass:"container-add-review-txt-btn flex col"},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:3},placeholder:"Write a few words of review"},model:{value:e.reviewForUpdate.txt,callback:function(t){e.$set(e.reviewForUpdate,"txt",t)},expression:"reviewForUpdate.txt"}}),n("button",[e._v(" Update ")])],1):n("p",[e._v(e._s(e.reviewForUpdate.txt))])])])},or=[],ar={props:["review"],data:function(){return{reviewForUpdate:null,isEdit:!1,colors:this.$store.getters.colors}},created:function(){this.reviewForUpdate=JSON.parse(JSON.stringify(this.review))},methods:{removeReview:function(){f.$emit("removeReview",this.review._id)},updateReview:function(){f.$emit("updateReview",this.reviewForUpdate)}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}}},cr=ar,lr=Object(w["a"])(cr,sr,or,!1,null,null,null),ur=lr.exports,pr={name:"review-list",props:["reviews"],components:{reviewPreview:ur},data:function(){return{limit:4}},methods:{scrollTo:function(e){window.scrollTo(0,e.target.offsetTop-200)}},created:function(){console.log(this.reviews)}},dr=pr,gr=Object(w["a"])(dr,nr,ir,!1,null,null,null),mr=gr.exports,fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.review?n("form",{staticClass:"add-review review flex col",on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("div",{staticClass:"container-title flex col bet"},[n("h3",{staticClass:"container-link-img",on:{click:e.scrollTo}},[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Add Review")])]),n("div",{staticClass:"add-rate-container flex a-center"},[n("el-rate",{attrs:{"text-color":"#0b757d",colors:e.colors},model:{value:e.review.rate,callback:function(t){e.$set(e.review,"rate",t)},expression:"review.rate"}})],1)]),n("div",{staticClass:"container-add-review-txt-btn flex col"},[n("el-input",{ref:"my-ref",attrs:{type:"textarea",autosize:{minRows:3},placeholder:"Write a few words of review"},model:{value:e.review.txt,callback:function(t){e.$set(e.review,"txt",t)},expression:"review.txt"}}),e._m(0)],1)]):e._e()},vr=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"flex a-center j-center pointer"},[e._v(" Send "),n("img",{attrs:{src:r("f95f"),alt:""}})])}],hr={props:{review:Object},data:function(){return{colors:this.$store.getters.colors}},methods:{save:function(){console.log(" hi in revire add"),this.$emit("saveReview",this.review)},scrollTo:function(e){window.scrollTo(0,e.target.offsetTop-200),this.$refs["my-ref"].focus()}}},wr=hr,yr=Object(w["a"])(wr,fr,vr,!1,null,null,null),jr=yr.exports,br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.notifications.length?n("section",{staticClass:"notification-container"},[n("section",{staticClass:"container-title flex a-center bet"},[n("img",{staticClass:"close-popap-img pointer",attrs:{src:r("bb7c"),title:"Close"},on:{click:function(t){return t.stopPropagation(),e.$emit("toggleNotifications")}}}),n("h3",[e._v("Notifications")])]),n("section",{staticClass:"notification-list"},e._l(e.notifications,(function(t){return n("notification-preview",{key:t._id,staticClass:"notification-preview",attrs:{notification:t,userId:e.userId,active:e.active},on:{setActive:e.setActive}})})),1)]):e._e()},xr=[],Cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"notification-preview"},[n("div",{staticClass:"flex a-center bet",on:{click:function(t){return e.$emit("setActive",{val:e.notification.from._id,ev:t})}}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("span",[e._v(e._s(e.notification.from.fullName))])]),n("img",{class:{"arrow-down":e.active===e.notification.from._id},attrs:{src:r("94df"),alt:"⇧"}})])]),n("transition",{attrs:{name:"fade"}},[e.active===e.notification.from._id?n("section",[n("div",{staticClass:"notification-details"},[n("p",[e._v(" About: "),n("span",[e._v(e._s(e.notification.proj.title))])]),e.notification.proj.createdById===e.userId?n("p",[e._v(" Members intrested: "),n("span",[e._v(e._s(" "+e.notification.memebersApllied))])]):e._e(),n("p",[e._v(" Message: "),n("span",[e._v(e._s(e.notification.txt||"I heard about your project and I really like it, can I sign up for it?"))])])]),n("div",{staticClass:"notification-btn"},[e.notification.proj.createdById===e.userId?n("section",{staticClass:"flex"},[n("button",{on:{click:e.onApprove}},[e._v(" Approve "),n("img",{attrs:{src:r("f583"),alt:""}})]),n("button",{on:{click:e.onDecline}},[e._v(" Decline "),n("img",{attrs:{src:r("282d"),alt:""}})])]):n("img",{attrs:{src:r("b143"),alt:"remove",title:"Delete this message"},on:{click:function(t){return t.preventDefault(),e.deleteNotification(t)}}})])]):e._e()])],1)},_r=[],kr={props:{notification:Object,userId:String,active:String},methods:{deleteNotification:function(){f.$emit("deleteNotification",this.notification)},onApprove:function(){var e={_id:M.makeId(),proj:this.notification.proj,from:this.notification.to,to:this.notification.from,txt:"We are pleased to inform you that you have been accepted for our project..!",isApproved:!0,memebersApllied:this.notification.memebersApllied};f.$emit("onApprove",e)},onDecline:function(){var e={_id:M.makeId(),proj:this.notification.proj,from:this.notification.to,to:this.notification.from,txt:"Sorry, your application was disapproved..!",isApproved:!1};f.$emit("onDecline",e)}}},Ur=kr,Rr=Object(w["a"])(Ur,Cr,_r,!1,null,null,null),Pr=Rr.exports,$r={props:{notifications:Array,userId:String},data:function(){return{active:""}},methods:{scrollTo:function(e,t){window.scrollTo(0,e-t)},setActive:function(e){this.active?this.scrollTo(e.ev.target.offsetTop,400):this.scrollTo(e.ev.target.offsetTop,150),this.active=this.active===e.val?"":e.val}},components:{notificationPreview:Pr}},Or=$r,Sr=Object(w["a"])(Or,br,xr,!1,null,null,null),Ar=Sr.exports,Nr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"proj-container",attrs:{to:"/proj/"+e.proj._id}},[r("img",{staticClass:"proj-minimal-img",attrs:{src:e.proj.imgUrls[0],alt:""}}),r("img",{staticClass:"proj-flag",attrs:{src:"https://www.countryflags.io/"+e.proj.position.short_country+"/shiny/64.png",alt:""}})])},Er=[],Lr={props:["proj"],data:function(){return{timeOut:null,fullName:null,user:null,review:null,projApplied:null,audioNotification:null,projs:null}},created:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},Mr=Lr,Ir=Object(w["a"])(Mr,Nr,Er,!1,null,null,null),Tr=Ir.exports,Br={name:"UserProfile",data:function(){return{timeOut:null,fullName:null,user:null,review:null,projApplied:null,projs:null,isLoading:!1,isNotificationsOpen:!1,isSaveLoading:!1}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setCurrUser();case 2:e.review=e.getEmptyReview();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){f.$on("deleteNotification",this.deleteNotification),f.$on("onApprove",this.onApprove),f.$on("onDecline",this.onDecline),f.$on("uploadImg",this.uploadImg),document.querySelector(".screen").addEventListener("click",this.handleClick),document.addEventListener("keydown",this.handlePress)},beforeDestroy:function(){f.$off("deleteNotification",this.deleteNotification),f.$off("onApprove",this.onApprove),f.$off("onDecline",this.onDecline),f.$off("uploadImg",this.uploadImg),document.querySelector(".screen").removeEventListener("click",this.handleClick),document.removeEventListener("keydown",this.handlePress)},methods:{setCurrUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),e.toggleLoading(),r=e.$route.params.id,console.log(r,"userId"),t.next=6,xe.getById(r);case 6:return n=t.sent,e.user=JSON.parse(JSON.stringify(n)),e.imgUrl=e.user.imgUrl,t.next=11,e.$store.dispatch({type:"loadReviews",id:r,isSetReviews:!0});case 11:return e.toggleLoading(),e.fullName=e.user.fullName,t.next=15,e.$store.dispatch({type:"loadProjs",filterBy:{id:r}});case 15:e.projs=t.sent;case 16:case"end":return t.stop()}}),t)})))()},save:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"saveReview",review:e});case 2:t.review=t.getEmptyReview();case 3:case"end":return r.stop()}}),r)})))()},getEmptyReview:function(){return{txt:"",rate:null,by:this.$store.getters.by,about:{_id:this.user._id,fullName:this.user.fullName,imgUrl:this.user.imgUrl}}},onApprove:function(e){nt.emit("approve",e),this.spliceNotification(e)},onDecline:function(e){nt.emit("decline",e),this.spliceNotification(e)},deleteNotification:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.spliceNotification(e);case 2:t.updateUser();case 3:case"end":return r.stop()}}),r)})))()},spliceNotification:function(e){var t=this.user.notifications.findIndex((function(t){return t._id===e._id}));this.user.notifications.splice(t,1),this.$store.commit({type:"setUser",user:this.user})},updateUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"updateUser",user:e.user});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},toggleNotifications:function(){(this.loggedinUser||this.loggedinUser.notifications.length||this.isNotificationsOpen)&&(this.isNotificationsOpen=!this.isNotificationsOpen,document.body.classList.toggle("notifications-open"))},uploadImg:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.user.imgUrl=null,t.isLoading=!0,r.next=4,t.$store.dispatch({type:"addImg",imgEv:e});case 4:return n=r.sent,t.isLoading=!1,t.user.imgUrl=n,r.next=9,t.updateUser();case 9:case"end":return r.stop()}}),r)})))()},replaceByDefault:function(e){e.target.src=r("7671")},replaceByLoading:function(e){e.target.src=r("db8f")},handleClick:function(e){this.isNotificationsOpen&&this.toggleNotifications()},handlePress:function(e){27===e.keyCode&&this.handleClick()},scrollTo:function(e){window.scrollTo(0,e.target.offsetTop-200)},toggleLoading:function(){this.isSaveLoading=!this.isSaveLoading,document.body.classList.toggle("loading-active")},onInputName:function(){var e=this;this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=null),this.timeOut=setTimeout((function(){e.user.fullName=e.fullName,e.updateUser()}),1e3)}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},reviews:function(){return this.$store.getters.reviews}},components:{mapPreview:rr,reviewList:mr,reviewAdd:jr,reviewAvarage:$t,notificationList:Ar,avatarEdit:_,userProjs:Tr},watch:{loggedinUser:function(){this.loggedinUser||this.$router.push("/")},user:function(){},"loggedinUser.notifications":{handler:function(){!this.loggedinUser.notifications.length&&this.isNotificationsOpen&&this.toggleNotifications()},deep:!0},"$route.path":{handler:function(){this.setCurrUser()},deep:!0}}},Fr=Br,Dr=Object(w["a"])(Fr,Yt,Gt,!1,null,null,null),Wr=Dr.exports,qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"proj-list-filtered height-container flex col"},[r("div",{staticClass:"main-content"},[e.projsHeader?r("div",{staticClass:"header ratio-16-9"},[r("img",{attrs:{src:e.projsHeader.imgUrl}}),r("div",{staticClass:"category-header"},[r("div",{staticClass:"category-header-title"},[e._v(e._s(e.projsHeader.title))]),r("div",{staticClass:"category-header-desc"},[e._v(e._s(e.projsHeader.desc))])])]):e._e(),r("ul",e._l(e.filteredProjs,(function(e){return r("li",{key:e._id},[r("proj-preview",{attrs:{proj:e}})],1)})),0)]),r("div",{staticClass:"side-bar"},[r("map-preview",{attrs:{array:e.filteredProjs}})],1)])])},Hr=[],zr=(r("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"proj-preview"},[n("router-link",{staticClass:"proj-card flex col",attrs:{to:"/proj/"+e.proj._id}},[n("div",{staticClass:"details-img"},[e.proj.membersApplyed.length===e.proj.membersNeeded?n("img",{staticClass:"fully-booked",attrs:{src:r("74d4")}}):e._e(),e.proj.imgUrls?n("img",{attrs:{src:e.proj.imgUrls[0]}}):e._e()]),n("div",{staticClass:"proj-txt"},[n("div",{staticClass:"proj-txt-header"},[n("h2",[e._v(e._s(e.proj.title))]),n("div",{staticClass:"organiztion-container"},[n("h5",[e._v(e._s(e.proj.organization))]),n("img",{attrs:{src:r("12aa")}})])]),n("review-avarage-by-id",{staticClass:"review-avarage-for-list",attrs:{id:e.proj._id}}),n("div",{staticClass:"members-needed"},[n("h5",[e._v("Members Applied:")]),n("h5",[e._v(e._s(e.proj.membersApplyed.length)+"/"+e._s(e.proj.membersNeeded))])])],1),n("div",{staticClass:"footer"})])],1)}),Vr=[],Jr={name:"projPreview",props:{proj:Object},computed:{projCategory:function(){var e=this.proj.category,t={animalsAndWildlife:"Animals & Wildlife",education:"Education",childcare:"Child Care",environmentalProtection:"Environmental Protection",farming:"Farming",scubaDiving:"Scuba Diving",humanitarian:"Humanitarian",healthcare:"Healthcare",sports:"Sports",art:"Art",humanRights:"Human Rights"};return t[e]}},components:{reviewAvarageById:Nt}},Yr=Jr,Gr=Object(w["a"])(Yr,zr,Vr,!1,null,"0a055f62",null),Kr=Gr.exports,Zr={name:"projsListFiltered",data:function(){return{projs:null,filteredProjs:null,projsHeader:null}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.projs=e.$store.getters.projs,e.projs.length){t.next=5;break}return t.next=4,e.$store.dispatch({type:"loadProjs"});case 4:e.projs=t.sent;case 5:e.setFilteredProjs();case 6:case"end":return t.stop()}}),t)})))()},methods:{getHeader:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"getFilteredProjHeader",filter:e});case 2:n=r.sent,n&&(t.projsHeader=n);case 4:case"end":return r.stop()}}),r)})))()},setFilteredProjs:function(){var e=this.$route.params.filter;this.filteredProjs=this.projs.filter((function(t){return t.category===e})),this.getHeader(e),window.scrollTo(0,0)}},components:{projPreview:Kr,mapPreview:rr},watch:{"$route.path":{handler:function(){this.setFilteredProjs()},deep:!0}}},Xr=Zr,Qr=Object(w["a"])(Xr,qr,Hr,!1,null,"a92581dc",null),en=Qr.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.proj&&e.reviews?n("div",{staticClass:"proj-details-container width-container height-container"},[e.isSaveLoading?n("div",{staticClass:"save-loading"},[n("img",{attrs:{src:r("a783"),alt:""}})]):e._e(),n("div",{staticClass:"proj-details"},[n("div",{staticClass:"main-content-details-contianer"},[e.editMode?n("h1",{staticClass:"title-proj",class:{"edit-mode":e.editMode}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.proj.title,expression:"proj.title"}],attrs:{rows:"1",placeholder:"Project Title"},domProps:{value:e.proj.title},on:{input:function(t){t.target.composing||e.$set(e.proj,"title",t.target.value)}}}),n("img",{attrs:{src:r("1b29"),alt:"Edit"}})]):n("h1",{staticClass:"title-proj"},[e._v(e._s(e.proj.title))]),n("input",{ref:"uploadImg",attrs:{type:"file",hidden:""},on:{input:e.uploadImg}}),e.isLoading?n("section",{staticClass:"upload-new-img-btn flex col a-center j-center"},[n("img",{staticClass:"rolling2-loader",attrs:{src:r("a783"),alt:""}}),n("p",[e._v("Wait a few moments")])]):e.proj.imgUrls.length?n("div",{staticClass:"img-proj-container ratio-16-9"},[n("el-carousel",{attrs:{"indicator-position":"outside"}},e._l(e.proj.imgUrls,(function(t,i){return n("el-carousel-item",{key:i},[n("img",{attrs:{src:t},on:{click:function(t){return e.setCurrImg(i)}}}),e.editMode?n("div",{staticClass:"edit-img-container-btn"},[n("div",{attrs:{title:"Delete this image from project"}},[n("img",{attrs:{src:r("b143"),alt:""},on:{click:function(t){return e.removeImg(i)}}})]),n("div",{attrs:{title:"Add image for your project"},on:{click:function(t){return e.$refs.uploadImg.click()}}},[n("img",{attrs:{src:r("144a"),alt:""}})])]):e._e()])})),1)],1):n("section",{staticClass:"upload-new-img-btn pointer flex a-center j-center",attrs:{title:"Add image for your project"},on:{click:function(t){return e.$refs.uploadImg.click()}}},[n("img",{attrs:{src:r("4eb1"),alt:""}})]),e.editMode?e._e():n("review-avarage",{staticClass:"review-avarage review",attrs:{reviews:e.reviews}}),n("div",{staticClass:"main-content-details"},[e.editMode?n("section",[n("div",{staticClass:"flex a-center bet",on:{click:e.scrollTo}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Category")])]),e.editMode?n("img",{staticClass:"edit-mode",attrs:{src:r("1b29"),alt:"Edit"}}):e._e()])]),n("el-select",{attrs:{required:"",filterable:"","default-first-option":"",placeholder:"Category"},model:{value:e.proj.category,callback:function(t){e.$set(e.proj,"category",t)},expression:"proj.category"}},e._l(e.categories,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),n("section",[n("div",{staticClass:"flex a-center bet",on:{click:function(t){return e.setActive("description",t)}}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Description")])]),e.editMode?n("img",{staticClass:"edit-mode",attrs:{src:r("1b29"),alt:"Edit"}}):n("img",{class:{"arrow-down":"description"===e.active},attrs:{src:r("9378"),alt:"⇧"}})])]),e.editMode?n("transition",{attrs:{name:"fade"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.proj.description,expression:"proj.description"}],staticClass:"description-textarea",attrs:{cols:"30",rows:"10"},domProps:{value:e.proj.description},on:{input:[function(t){t.target.composing||e.$set(e.proj,"description",t.target.value)},e.auto_grow]}})]):n("transition",{attrs:{name:"fade"}},["description"===e.active?n("p",[e._v(e._s(e.proj.description))]):e._e()])],1),n("section",[n("div",{staticClass:"flex a-center bet",on:{click:function(t){return e.setActive("requirements",t)}}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Requirements")])]),e.editMode?n("img",{staticClass:"edit-mode",attrs:{src:r("1b29"),alt:"Edit"}}):n("img",{class:{"arrow-down":"requirements"===e.active},attrs:{src:r("9378"),alt:"⇧"}})])]),e.editMode?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"edit-container"},[n("p",[e._v("Choose a date")]),n("el-date-picker",{staticClass:"date-pickar-for-desctop",attrs:{type:"daterange","unlink-panels":"","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date","value-format":"yyyy-MM-dd"},model:{value:e.proj.date,callback:function(t){e.$set(e.proj,"date",t)},expression:"proj.date"}}),n("section",{staticClass:"date-pickar-for-mobile flex col"},[n("p",[e._v("Start date")]),n("el-date-picker",{attrs:{type:"date",placeholder:"Start date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},on:{change:e.goToEnd},model:{value:e.proj.date[0],callback:function(t){e.$set(e.proj.date,0,t)},expression:"proj.date[0]"}}),n("p",[e._v("End date")]),n("el-date-picker",{ref:"date-end",attrs:{type:"date",placeholder:"End date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:e.proj.date[1],callback:function(t){e.$set(e.proj.date,1,t)},expression:"proj.date[1]"}})],1),n("p",[e._v("Members Needed")]),n("el-input-number",{attrs:{min:1,max:100},model:{value:e.proj.membersNeeded,callback:function(t){e.$set(e.proj,"membersNeeded",t)},expression:"proj.membersNeeded"}}),n("p",[e._v("Minimum Age: "+e._s(e.proj.requirements.minAge))]),n("el-input-number",{attrs:{min:14},model:{value:e.proj.requirements.minAge,callback:function(t){e.$set(e.proj.requirements,"minAge",t)},expression:"proj.requirements.minAge"}}),n("p",[e._v("Language skill")]),n("div",{staticClass:"select-cmp-container"},[n("select-cmp",{staticClass:"filters-open",attrs:{selects:e.languages,placeholder:"language requirements"},model:{value:e.proj.requirements.languages,callback:function(t){e.$set(e.proj.requirements,"languages",t)},expression:"proj.requirements.languages"}})],1),n("p",[e._v("More skills")]),n("div",{staticClass:"select-cmp-container"},[n("select-cmp",{staticClass:"filters-open",attrs:{selects:e.otherSkills,placeholder:"skills requirements"},model:{value:e.proj.requirements.otherSkills,callback:function(t){e.$set(e.proj.requirements,"otherSkills",t)},expression:"proj.requirements.otherSkills"}})],1)],1)]):n("transition",{attrs:{name:"fade"}},["requirements"===e.active?n("div",[n("p",[n("span",{staticClass:"strong"},[e._v("Required Dates:")]),e._v(" "+e._s(e.proj.date[0])+" - "+e._s(e.proj.date[1])+" ")]),n("p",[n("span",{staticClass:"strong"},[e._v("Members needed:")]),e._v(" "+e._s(e.proj.membersNeeded)+" / "+e._s(e.proj.membersNeeded+e.proj.membersApplyed.length)+" ")]),e.proj.requirements.languages.length?n("p",[n("span",{staticClass:"strong"},[e._v("Language control:")]),n("span",[e._v(e._s(e.proj.requirements.languages.join(", "))+".")])]):e._e(),e.proj.requirements.otherSkills.length?n("p",[n("span",{staticClass:"strong"},[e._v("Other Skills:")]),n("span",[e._v(e._s(e.proj.requirements.otherSkills.join(", "))+".")])]):e._e(),n("p",[n("span",{staticClass:"strong"},[e._v("Minimum Age:")]),e._v(" "+e._s(e.proj.requirements.minAge)+" ")])]):e._e()])],1),n("section",[n("div",{staticClass:"flex a-center bet",on:{click:function(t){return e.setActive("tags",t)}}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("What is included")])]),e.editMode?n("img",{staticClass:"edit-mode",attrs:{src:r("1b29"),alt:"Edit"}}):n("img",{class:{"arrow-down":"tags"===e.active},attrs:{src:r("9378"),alt:"⇧"}})])]),e.editMode?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"edit-container"},[n("div",{staticClass:"select-cmp-container"},[n("select-cmp",{staticClass:"filters-open",attrs:{selects:e.tags,placeholder:"What's included"},model:{value:e.proj.tags,callback:function(t){e.$set(e.proj,"tags",t)},expression:"proj.tags"}})],1)])]):n("transition",{attrs:{name:"fade"}},["tags"===e.active?n("ul",e._l(e.proj.tags,(function(t){return n("li",{key:t,staticClass:"flex a-center"},[n("img",{attrs:{src:r("4555")("./"+t.toLowerCase().split(" ").join("-")+".svg"),alt:"tag"}}),n("span",[e._v(e._s(t))])])})),0):e._e()])],1),e.editMode?e._e():n("section",{staticClass:"user-profile-for-details"},[n("div",{staticClass:"flex a-center bet",on:{click:function(t){return e.setActive("createdBy",t)}}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Created By")])]),e.editMode?n("img",{staticClass:"edit-mode",attrs:{src:r("1b29"),alt:"Edit"}}):n("img",{class:{"arrow-down":"createdBy"===e.active},attrs:{src:r("9378"),alt:"⇧"}})])]),n("transition",{attrs:{name:"fade"}},["createdBy"===e.active?n("section",{staticClass:"details-created-by flex col"},[n("router-link",{attrs:{to:"/user/"+e.proj.createdBy._id}},[n("img",{staticClass:"avatar avatar-m",attrs:{src:e.proj.createdBy.imgUrl,alt:e.proj.createdBy.fullName,title:e.proj.createdBy.fullName}})]),n("section",[n("p",[e._v(e._s(e.proj.createdBy.fullName))]),n("p",[e._v("Join: "+e._s(e.proj.createdBy.joinAt.date)+", "+e._s(e.proj.createdBy.joinAt.time))]),n("review-avarage-by-id",{staticClass:"review-avarage",attrs:{id:e.proj.createdBy._id}})],1)],1):e._e()])],1),e.editMode||e.proj.organization?n("section",[n("div",{staticClass:"flex a-center bet",on:{click:function(t){return e.setActive("organization",t)}}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Organization")])]),e.editMode?n("img",{staticClass:"edit-mode",attrs:{src:r("1b29"),alt:"Edit"}}):n("img",{class:{"arrow-down":"organization"===e.active},attrs:{src:r("9378"),alt:"⇧"}})])]),e.editMode?n("transition",{attrs:{name:"fade"}},[n("section",{staticClass:"input-organization"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.proj.organization,expression:"proj.organization"}],attrs:{placeholder:"Project organization"},domProps:{value:e.proj.organization},on:{input:function(t){t.target.composing||e.$set(e.proj,"organization",t.target.value)}}})])]):n("transition",{attrs:{name:"fade"}},["organization"===e.active?n("p",[e._v(e._s(e.proj.organization))]):e._e()])],1):e._e()])],1),e.loggedinUser&&e.loggedinUser._id!==e.proj.createdBy._id||!e.loggedinUser?n("review-add",{attrs:{review:e.review},on:{saveReview:e.saveReview}}):e._e(),e.reviews&&e.reviews.length&&!e.editMode?n("review-list",{staticClass:"reviews-container",attrs:{reviews:e.reviews}}):e._e(),n("section",{staticClass:"container-location"},[n("div",{staticClass:"flex a-center bet",on:{click:e.scrollTo}},[n("h3",{staticClass:"container-link-img flex bet"},[n("section",[n("img",{staticClass:"link-img",attrs:{src:r("01df"),alt:""}}),n("span",[e._v("Location")])]),e.editMode?n("img",{staticClass:"edit-mode",attrs:{src:r("1b29"),alt:"Edit"}}):e._e()])]),e.editMode?n("section",{staticClass:"search-location edit-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.proj.position.txtAddress,expression:"proj.position.txtAddress"}],attrs:{type:"search",placeholder:"Please enter an address"},domProps:{value:e.proj.position.txtAddress},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchPosition(e.proj.position.txtAddress)},blur:function(t){return t.preventDefault(),e.searchPosition(e.proj.position.txtAddress)},input:function(t){t.target.composing||e.$set(e.proj.position,"txtAddress",t.target.value)}}}),n("svg",{attrs:{title:"Search",role:"presentation",viewBox:"0 0 32 32",width:"20",height:"20",fill:"none",stroke:"#68667a","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"},on:{click:function(t){return t.preventDefault(),e.searchPosition(e.proj.position.txtAddress)}}},[n("circle",{attrs:{cx:"14",cy:"14",r:"12"}}),n("path",{attrs:{d:"M23 23 L30 30"}})])]):n("p",{staticClass:"location-txt"},[n("img",{attrs:{src:r("8d59"),alt:""}}),e.proj.position.city?n("span",[e._v(e._s(" "+e.proj.position.city)+",")]):e._e(),e.proj.position.country?n("span",[e._v(e._s(" "+e.proj.position.country+" "))]):e._e(),e.proj.position.region?n("span",[e._v("("+e._s(e.proj.position.region)+")")]):e._e()]),n("div",{staticClass:"card-deatails map-container"},[n("map-preview",{attrs:{array:[e.proj]}})],1)])],1),n("section",[n("section",{staticClass:"container-controller-proj-btn width-container"},[e.proj._id&&e.editMode?n("section",[n("img",{attrs:{src:r("b143"),alt:"Delete"},on:{click:function(t){return e.removeProj(e.proj._id)}}})]):e.editMode?n("section",[n("img",{attrs:{src:r("9c1d"),alt:"Reset"},on:{click:e.reset}})]):e._e(),e.editMode?n("section",[n("img",{attrs:{src:r("bc10"),alt:"Save"},on:{click:function(t){return e.saveProj(e.proj)}}})]):e._e(),e.newProjMode||!e.loggedinUser||e.loggedinUser._id!==e.proj.createdBy._id&&!e.loggedinUser.isAdmin?e.newProjMode||!e.loggedinUser||e.loggedinUser._id===e.proj.createdBy._id&&e.loggedinUser.isAdmin||e.isApplyOpen||!(e.proj.membersApplyed.length<e.proj.membersNeeded)?e._e():n("span",{class:{"apply-open":e.isApplyOpen},on:{click:function(t){return t.stopPropagation(),e.toggleApply(t)}}},[e._v("Apply now")]):n("section",{attrs:{title:e.editMode?"Switch to read mode":"Switch to edit mode"},on:{click:function(t){e.editMode=!e.editMode}}},[e.editMode?n("img",{attrs:{src:r("237e"),alt:""}}):n("img",{attrs:{src:r("c62c"),alt:""}})])])]),e.loggedinUser&&!e.newProjMode?n("proj-apply",{staticClass:"proj-apply",class:{"apply-open":e.isApplyOpen},attrs:{proj:e.proj,user:e.loggedinUser},on:{toggleApply:e.toggleApply}}):e._e()],1):n("div",{staticClass:"height-container width-contianer flex a-center j-center"},[n("img",{staticClass:"loading-page",attrs:{src:r("e96b"),alt:""}})])])},rn=[],nn=(r("d81d"),r("ade3")),sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"proj-apply"},[n("section",{staticClass:"container-title flex bet"},[n("img",{staticClass:"close-popap-img pointer",attrs:{src:r("bb7c"),title:"Close"},on:{click:function(t){return t.stopPropagation(),e.$emit("toggleApply")}}}),n("h1",[e._v("Apply now")])]),n("form",{staticClass:"form-apply",on:{submit:function(t){return t.preventDefault(),e.applyToProj(t)}}},[n("el-input",{staticClass:"input-txt-apply",attrs:{type:"textarea",autosize:{minRows:3},placeholder:"Write something about yourelf :)"},model:{value:e.request.txt,callback:function(t){e.$set(e.request,"txt",t)},expression:"request.txt"}}),n("el-input-number",{staticClass:"input-number-apply",attrs:{min:1,max:this.proj.membersNeeded},model:{value:e.request.memebersApllied,callback:function(t){e.$set(e.request,"memebersApllied",t)},expression:"request.memebersApllied"}}),n("button",[e._v("Send request!")])],1)])])},on=[],an={name:"projApply",props:{proj:Object,user:Object},data:function(){return{request:{}}},created:function(){this.request={_id:M.makeId(),proj:{_id:this.proj._id,createdById:this.proj.createdBy._id,title:this.proj.title},from:{_id:this.user._id,fullName:this.user.fullName},to:{_id:this.proj.createdBy._id,fullName:this.proj.createdBy.fullName},memebersApllied:null,txt:null,isApproved:!1}},methods:{applyToProj:function(){nt.emit("applyToProj",this.request),this.$emit("toggleApply")}}},cn=an,ln=Object(w["a"])(cn,sn,on,!1,null,null,null),un=ln.exports,pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[r("section",{staticClass:"select-cmp",class:{open:e.isOpen},on:{click:function(t){t.stopPropagation(),e.isOpen=!e.isOpen}}},[r("span",[e.selecteds.length||e.select.length?r("div",e._l(e.selecteds,(function(t){return r("span",{key:t,staticClass:"selected",on:{click:function(r){return r.stopPropagation(),e.removeFromList(t)}}},[e._v(e._s(t))])})),0):r("p",[e._v(e._s(e.placeholder))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.select,expression:"select"}],class:{active:e.selecteds.length},attrs:{type:"search"},domProps:{value:e.select},on:{change:function(t){return e.search1(e.select)},input:function(t){t.target.composing||(e.select=t.target.value)}}})]),r("transition",{attrs:{name:"fade"}},[e.isOpen?r("ul",{staticClass:"list-select"},e._l(e.selects,(function(t){return r("li",{key:t,on:{click:function(r){return r.stopPropagation(),e.search1(t)}}},[e._v(e._s(t.charAt(0).toUpperCase()+t.slice(1)))])})),0):e._e()])],1)])},dn=[],gn={props:{selects:Array,value:Array,placeholder:String},data:function(){return{select:"",txt:"",selecteds:[],isOpen:!1}},methods:{search:function(){var e=this;this.selecteds.push(this.select);var t=this.selects.findIndex((function(t){return t===e.select}));this.selects.splice(t,1),this.$emit("input",this.selecteds),this.select=""},search1:function(e){if(this.isOpen=!1,e.length){this.selecteds.push(e);var t=this.selects.findIndex((function(t){return t===e}));-1!==t&&this.selects.splice(t,1),this.$emit("input",this.selecteds)}},removeFromList:function(e){var t=this.selecteds.findIndex((function(t){return t===e})),r=this.selecteds.splice(t,1).join("");this.selects.unshift(r),this.$emit("input",this.selecteds)},closeSearch:function(){this.isOpen=!1},handlePress:function(e){27===e.keyCode&&this.closeSearch()}},mounted:function(){document.addEventListener("click",this.closeSearch),document.addEventListener("keydown",this.handlePress)},beforeDestroy:function(){document.removeEventListener("click",this.closeSearch),document.removeEventListener("keydown",this.handlePress)}},mn=gn,fn=Object(w["a"])(mn,pn,dn,!1,null,null,null),vn=fn.exports,hn={data:function(){return{ref:null,editMode:!1,newProjMode:!1,proj:null,isApplyOpen:!1,review:null,averageRate:null,colors:this.$store.getters.colors,active:"",languages:["Hebrew","English","Spanish"],otherSkills:["Driving","Health","Education","Organizer"],tags:["Airport Taxi","Housing","Single Bed","Double Bed","Food","Wifi","Hot Water"],categories:null,isLoading:!1,isSaveLoading:!1}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=_e.loadCategoties(),e.categories=r.map((function(e){return{value:e.category,label:e.title}})),window.scrollTo(0,0),n=e.$route.params.id,!n){t.next=15;break}return t.next=7,e.$store.dispatch({type:"loadProj",projId:n});case 7:return e.proj=t.sent,t.next=10,e.$store.dispatch({type:"loadReviews",id:n,isSetReviews:!0});case 10:e.averageRate=e.reviews.reduce((function(e,t){return e+t.rate}),0),console.log(e.reviews.length,"length of revires"),e.review=e.getEmptyReview(),t.next=19;break;case 15:e.loggedinUser||(e.$notify({title:"Warning",message:"You must register first",type:"warning",duration:1500}),e.$router.push("/login")),e.proj=_e.getEmptyProj(),e.editMode=!0,e.newProjMode=!0;case 19:case"end":return t.stop()}}),t)})))()},components:{mapPreview:rr,projApply:un,reviewList:mr,reviewAdd:jr,reviewAvarage:$t,reviewAvarageById:Nt,selectCmp:vn},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},reviews:function(){return this.$store.getters.reviews}},methods:(vt={goToEnd:function(){this.proj.date[0]&&this.$refs["date-end"].focus()},searchPosition:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"searchPosition",txt:e});case 2:n=r.sent,n&&(t.proj.position=n);case 4:case"end":return r.stop()}}),r)})))()},scrollTo:function(e){window.scrollTo(0,e.target.offsetTop-200)},auto_grow:function(e){e.target.style.height="5px",e.target.style.height=e.target.scrollHeight+"px"},uploadImg:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,r.next=3,t.$store.dispatch({type:"addImg",imgEv:e});case 3:n=r.sent,t.isLoading=!1,t.proj.imgUrls.push(n);case 6:case"end":return r.stop()}}),r)})))()},removeImg:function(e){this.proj.imgUrls.splice(e,1)},setCurrImg:function(e){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},saveProj:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.category){r.next=4;break}return t.$notify({title:"Warning",message:"You must select a category",type:"warning",duration:1500}),window.scrollTo(0,0),r.abrupt("return");case 4:return e.startAt=t.toTimestamp(e.date[0]),e.endsAt=t.toTimestamp(e.date[1]),e.date=t.fixDate(e.date),e.createdBy=t.loggedinUser,e.imgUrls.length||(e.imgUrls[0]="https://res.cloudinary.com/tamir/image/upload/v1589967682/noImg_imojcv.jpg"),console.log(e),t.toggleLoading(),r.next=13,t.$store.dispatch({type:"saveProj",proj:e});case 13:r.sent,t.$notify({title:"Success",message:"The project was successfully added",type:"success",duration:1500}),t.toggleLoading(),t.$router.push("/");case 17:case"end":return r.stop()}}),r)})))()},toggleLoading:function(){this.isSaveLoading=!this.isSaveLoading,document.body.classList.toggle("loading-active")},toTimestamp:function(e){return Date.parse(e)/1e3},fixDate:function(e){return e.map((function(e){return e.length>10?e.substring(0,10).split("-").join("/"):e}))},removeProj:function(e){this.$store.dispatch({type:"removeProj",projId:e}),this.$notify({title:"Success",message:"Project successfully deleted",type:"success",duration:1500}),this.updateRateForProj(),this.$router.push("/")},saveReview:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.by=t.$store.getters.by,t.toggleLoading(),r.next=4,t.$store.dispatch({type:"saveReview",review:e});case 4:n=r.sent,n&&t.updateRateForProj(),t.toggleLoading(),t.review=t.getEmptyReview();case 8:case"end":return r.stop()}}),r)})))()},updateRateForProj:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$store.getters.reviews,e.proj.rate={average:r.reduce((function(e,t){return e+t.rate}),0)/r.length,length:r.length},t.next=4,e.$store.dispatch({type:"saveProj",proj:e.proj});case 4:t.sent;case 5:case"end":return t.stop()}}),t)})))()},getEmptyReview:function(){return{txt:"",rate:5,about:{_id:this.proj._id,fullName:this.proj.title,imgUrl:this.proj.imgUrls[0]}}},setActive:function(e,t){this.editMode?this.scrollTo(t,150):(this.active?this.scrollTo(t,400):this.scrollTo(t,150),this.active=this.active===e?"":e)},toggleApply:function(){this.isApplyOpen=!this.isApplyOpen,document.body.classList.toggle("apply-open")},closeApply:function(){this.isApplyOpen=!1,document.body.classList.remove("apply-open")},handlePress:function(){27===event.keyCode&&this.closeApply()}},Object(nn["a"])(vt,"scrollTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;window.scrollTo(0,e.target.offsetTop-t)})),Object(nn["a"])(vt,"reset",(function(){this.proj=_e.getEmptyProj(),window.scrollTo(0,0)})),vt),mounted:function(){var e=this;document.querySelector(".screen").addEventListener("click",this.closeApply),document.addEventListener("keydown",this.handlePress),f.$on("updateReview",function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveReview(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},beforeDestroy:function(){document.querySelector(".screen").removeEventListener("click",this.closeApply),document.removeEventListener("keydown",this.handlePress)}},wn=hn,yn=Object(w["a"])(wn,tn,rn,!1,null,null,null),jn=yn.exports,bn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"proj-list width-container height-container"},[r("filter-By",{staticClass:"filter-in-proj-list"}),r("div",{staticClass:"around-the-world-list"},[e._l(e.currProjs,(function(t,n){return r("marker-card",{key:n,staticClass:"proj-preview-card",attrs:{proj:t,title:t.description?t.description.substring(0,80)+"... Click to read more!!":""},nativeOn:{click:function(r){return e.openDetails(t._id)}}})})),e.currProjs?r("span",[e._v(e._s(e.currProjs.length))]):e._e()],2)],1)])},xn=[],Cn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-container"},[r("search-cmp",{class:{"filters-open":e.isFiltersOpen},attrs:{isFiltersOpen:e.isFiltersOpen},on:{toggleFilters:function(t){e.isFiltersOpen=!e.isFiltersOpen}},model:{value:e.filterBy.name,callback:function(t){e.$set(e.filterBy,"name",t)},expression:"filterBy.name"}}),r("select-cmp",{class:{"filters-open":e.isFiltersOpen},attrs:{selects:e.tags,placeholder:"Tags"},model:{value:e.filterBy.tags,callback:function(t){e.$set(e.filterBy,"tags",t)},expression:"filterBy.tags"}}),r("select-cmp",{class:{"filters-open":e.isFiltersOpen},attrs:{selects:e.creators,placeholder:"Creators"},model:{value:e.filterBy.creators,callback:function(t){e.$set(e.filterBy,"creators",t)},expression:"filterBy.creators"}}),r("select-cmp",{class:{"filters-open":e.isFiltersOpen},attrs:{selects:e.categories,placeholder:"Categories"},model:{value:e.filterBy.categories,callback:function(t){e.$set(e.filterBy,"categories",t)},expression:"filterBy.categories"}}),r("transition",{attrs:{name:"fade"}},[r("el-date-picker",{class:{"filters-open":e.isFiltersOpen},attrs:{type:"date",placeholder:"Start date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},on:{change:e.goToEnd},model:{value:e.dates[0],callback:function(t){e.$set(e.dates,0,t)},expression:"dates[0]"}})],1),r("transition",{attrs:{name:"fade"}},[r("el-date-picker",{ref:"date-end",class:{"filters-open":e.isFiltersOpen},attrs:{type:"date",placeholder:"End date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:e.dates[1],callback:function(t){e.$set(e.dates,1,t)},expression:"dates[1]"}})],1)],1)},_n=[],kn={name:"filterBy",data:function(){return{isFiltersOpen:!1,filterBy:{name:"",categories:[],tags:[],creators:[],startAt:null,endsAt:null},categories:[],tags:[],dates:[],creators:[]}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.categories=_e.loadCategoties().map((function(e){return e.category})),e.tags=_e.loadTags(),t.next=5,e.$store.dispatch({type:"loadUsers"}).map((function(e){return e.fullName}));case 5:e.creators=t.sent;case 6:case"end":return t.stop()}}),t)})))()},methods:{emitFilter:function(){this.dates.length&&(this.filterBy.startAt=this.toTimestamp(this.dates[0]),this.filterBy.endsAt=this.toTimestamp(this.dates[1])),f.$emit("setFilter",this.filterBy)},toTimestamp:function(e){var t=Date.parse(e);return t/1e3},goToEnd:function(){this.dates[0]&&this.$refs["date-end"].focus()}},watch:{filterBy:{handler:function(){this.emitFilter()},deep:!0},dates:{handler:function(){this.emitFilter()},deep:!0}},components:{searchCmp:He,selectCmp:vn}},Un=kn,Rn=Object(w["a"])(Un,Cn,_n,!1,null,null,null),Pn=Rn.exports,$n={name:"projList",data:function(){return{isOpen:!0,initialVal:null,limit:0,skip:0,unitScrollY:null,filterBy:null,timeOutSetFilter:null}},computed:{currProjs:function(){return this.$store.getters.currProjs}},created:function(){window.scrollTo(0,0),this.setUnitScrollY()},mounted:function(){var e=this;f.$on("setFilter",(function(t){return e.setFilter(t)})),window.addEventListener("scroll",this.handleScroll),this.timeOutSetFilter=setTimeout((function(){e.setFilter()}),1500)},beforeDestroy:function(){var e=this;f.$off("setFilter",(function(t){return e.setFilter(t)})),window.removeEventListener("scroll",this.handleScroll)},methods:{setUnitScrollY:function(){window.innerWidth>1e3?this.unitScrollY=220:window.innerWidth>750?this.unitScrollY=380:window.innerWidth>485?this.unitScrollY=700:this.unitScrollY=1250,console.log(window.innerWidth,"window.innerWidth")},handleScroll:function(){this.limit&&window.scrollY>this.unitScrollY*(this.skip+1)&&this.loadMoreProj()},openDetails:function(e){this.$router.push("/proj/"+e)},toggleHero:function(){this.isOpen=!0},setFilter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("setfilter"),clearTimeout(e.timeOutSetFilter),t.x=[],e.filterBy=t,r.next=6,window.scrollTo(0,0);case 6:e.limit=12,e.skip=0,e.loadProjs();case 9:case"end":return r.stop()}}),r)})))()},loadProjs:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadProjs",filterBy:e.filterBy,limit:e.limit,skip:e.skip});case 2:r=t.sent,r.length<e.limit&&(e.limit=0);case 4:case"end":return t.stop()}}),t)})))()},loadMoreProj:function(){this.skip++,this.limit=4,this.loadProjs()}},components:{markerCard:It,filterBy:Pn}},On=$n,Sn=Object(w["a"])(On,bn,xn,!1,null,null,null),An=Sn.exports;n["default"].use(ht["a"]);var Nn=[{path:"/",name:"Home",component:Jt},{path:"/projs/aroundTheWorld",name:"aroundTheWorld",component:An},{path:"/projs/:filter",name:"projsListFiltered",component:en},{path:"/login",name:"login",component:P},{path:"/user/:id",name:"userProfile",component:Wr},{path:"/proj/:id?",name:"projDetails",component:jn}],En=new ht["a"]({routes:Nn}),Ln=En,Mn=r("2f62"),In=(r("caad"),r("2909")),Tn={state:{projs:[],currProjs:[],projsCount:null},getters:{projs:function(e){return e.projs},currProjs:function(e){return e.currProjs},currProj:function(e){return e.proj},projsCount:function(e){return e.projsCount},countries:function(e){var t=[];return e.projs.forEach((function(e){!t.includes(e.position.country)&&t.push(e.position.country)})),t.length},creators:function(e){var t=[];return e.projs.forEach((function(e){!t.includes(e.createdBy.fullName)&&t.push(e.createdBy.fullName)})),t}},mutations:{setProjs:function(e,t){var r=t.projs;e.projs=r},setCurrProjs:function(e,t){var r=t.projs;e.currProjs=r},pushToCurrProjs:function(e,t){var r,n=t.projs;(r=e.currProjs).push.apply(r,Object(In["a"])(n))},setProjsCount:function(e,t){var r=t.projsCount;e.projsCount=r},setProj:function(e,t){var r=t.proj;e.currProj=r},addProj:function(e,t){var r=t.proj;e.projs.unshift(r)},updateProj:function(e,t){var r=t.proj,n=e.projs.findIndex((function(e){return e._id===r._id}));e.projs.splice(n,1,r)},removeProj:function(e,t){var r=t.projId,n=e.projs.findIndex((function(e){return e._id===r}));e.projs.splice(n,1)}},actions:{loadProjsCount:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_e.getProjsCount();case 2:return r=t.sent,e.commit({type:"setProjsCount",projsCount:r}),console.log(r,"projsCount"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},loadProjs:function(e,t){var r=t.filterBy,n=t.limit,i=t.skip;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_e.query(r,n,i);case 2:return s=t.sent,i>0?e.commit({type:"pushToCurrProjs",projs:s}):(n||r)&&e.commit({type:"setCurrProjs",projs:s}),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()},loadProj:function(e,t){var r=t.projId;return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_e.getById(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},removeProj:function(e,t){var r=t.projId;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_e.remove(r);case 2:return n=t.sent,e.commit({type:"removeProj",projId:r}),t.next=6,_e.changeProjsCount(-1);case 6:return e.dispatch({type:"loadProjsCount"}),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})))()},saveProj:function(e,t){var r=t.proj;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=!!r._id,t.next=3,_e.save(r);case 3:if(i=t.sent,e.commit({type:n?"updateProj":"addProj",proj:i}),n||!i){t.next=9;break}return t.next=8,_e.changeProjsCount(1);case 8:e.dispatch({type:"loadProjsCount"});case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))()},getFilteredProjHeader:function(e,t){var r=t.filter;return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_e.getHeaderObj(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},getProjById:function(e,t){var r=t.id;return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_e.getById(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()}}},Bn={state:{currPosition:{}},actions:{searchPosition:function(e,t){var r=t.txt;return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.searchPosition(r);case 2:if(t=e.sent,!t){e.next=6;break}return t.txtAddress=r,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}}},Fn=null;sessionStorage.loggedinUser&&(Fn=JSON.parse(sessionStorage.loggedinUser));var Dn={state:{loggedinUser:Fn,users:[],newUserCred:{username:"",password:"",fullName:"",imgUrl:"",isAdmin:!1,notifications:[]},usersCount:null},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser},newUserCred:function(e){return e.newUserCred},usersCount:function(e){return e.usersCount}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))},setNewUserCred:function(e,t){var r=t.newUserCred;e.newUserCred=r},setUsersCount:function(e,t){var r=t.usersCount;e.usersCount=r}},actions:{loadUsersCount:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.getUsersCount();case 2:return r=t.sent,e.commit({type:"setUsersCount",usersCount:r}),console.log(r,"usersCount"),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},login:function(e,t){var r=t.credentials;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.login(r);case 2:return n=t.sent,"err"!==n&&(e.commit({type:"setUser",user:n}),e.commit({type:"setBy"})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},signup:function(e,t){var r=t.newUserCred;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.signup(r);case 2:return n=t.sent,e.commit({type:"setUser",user:n}),e.commit({type:"setBy"}),t.next=7,xe.changeUsersCount(1);case 7:return e.dispatch({type:"loadUsersCount"}),t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.logout();case 2:return r=t.sent,e.commit({type:"setUser",user:null}),e.commit({type:"setBy"}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.getUsers();case 2:return r=t.sent,e.commit({type:"setUsers",users:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},getById:function(e,t){var r=t.userId;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.getById(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},removeUser:function(e,t){var r=t.userId;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.remove(r);case 2:return n=t.sent,e.commit({type:"removeUser",userId:r}),t.next=6,xe.changeUsersCount(-1);case 6:return e.dispatch({type:"loadUsersCount"}),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})))()},updateUser:function(e,t){var r=t.user;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.update(r);case 2:return n=t.sent,e.state.loggedinUser&&e.commit({type:"setUser",user:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},setNewUserCred:function(e,t){var r=t.newUserCred;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit({type:"setNewUserCred",newUserCred:r});case 1:case"end":return t.stop()}}),t)})))()}}},Wn="reviewsCount",qn={getReviewsCount:Jn,getReviews:zn,remove:Gn,saveReview:Zn,changeReviewsCount:Hn};function Hn(e){var t=B.load(Wn);t&&(t+=e,B.store(Wn,t))}function zn(e){return Vn.apply(this,arguments)}function Vn(){return Vn=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t?G.get("review/".concat(t)):G.get("review"));case 1:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function Jn(){return Yn.apply(this,arguments)}function Yn(){return Yn=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=B.load(Wn),t){e.next=6;break}return e.next=4,G.get("review/count");case 4:t=e.sent,B.store(Wn,t);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),Yn.apply(this,arguments)}function Gn(e){return Kn.apply(this,arguments)}function Kn(){return Kn=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",G.delete("review/".concat(t)));case 1:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Zn(e){return Xn.apply(this,arguments)}function Xn(){return Xn=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t._id?ti(t):Qn(t));case 1:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}function Qn(e){return ei.apply(this,arguments)}function ei(){return ei=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",G.post("review",t));case 1:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(e){return ri.apply(this,arguments)}function ri(){return ri=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",G.put("review",t));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}var ni={state:{reviews:[],reviewsCount:null,by:xe.getBy(),color:["#a687ec","#4c207b","#555076"]},getters:{reviews:function(e){return e.reviews},reviewsCount:function(e){return console.log(e.reviewsCount,"reviewsCount in getters"),e.reviewsCount},by:function(e){return e.by},colors:function(e){return e.color}},mutations:{setReviews:function(e,t){var r=t.reviews;e.reviews=r},setReviewsCount:function(e,t){var r=t.reviewsCount;console.log(r,"reviewsCount in mutations"),e.reviewsCount=r},setBy:function(e){e.by=xe.getBy()},addReview:function(e,t){var r=t.review;e.reviews.unshift(r)},updateReview:function(e,t){var r=t.review,n=e.reviews.findIndex((function(e){return e._id===r._id}));e.reviews.splice(n,1,r)},removeReview:function(e,t){var r=t.reviewId;e.reviews=e.reviews.filter((function(e){return e._id!==r}))}},actions:{loadReviewsCount:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,qn.getReviewsCount();case 2:return r=t.sent,e.commit({type:"setReviewsCount",reviewsCount:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},loadReviews:function(e,t){var r=t.id,n=t.isSetReviews,i=void 0!==n&&n;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,qn.getReviews(r);case 2:return n=t.sent,i&&e.commit({type:"setReviews",reviews:n}),i&&console.log(r,n,"id, reviews"),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},saveReview:function(e,t){var r=t.review;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=!!r._id,t.next=3,qn.saveReview(r);case 3:if(r=t.sent,e.commit({type:n?"updateReview":"addReview",review:r}),n||!r){t.next=9;break}return t.next=8,qn.changeReviewsCount(1);case 8:e.dispatch({type:"loadReviewsCount"});case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})))()},removeReview:function(e,t){var r=t.reviewId;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,qn.remove(r);case 2:return n=t.sent,e.commit({type:"removeReview",reviewId:r}),t.next=6,qn.changeReviewsCount(-1);case 6:return e.dispatch({type:"loadReviewsCount"}),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})))()}}},ii={state:{msgs:null},getters:{msgs:function(e){return e.msgs}},mutations:{setMsg:function(e,t){var r=t.msgs;e.msgs=r}},actions:{sendMsg:function(e,t){var r=t.msg;nt.emit("sendMsg",r)},getChatHistory:function(e,t){var r=t.chatId;nt.emit("getHistory",r)},loadMsg:function(e,t){var r=t.topic,n=nt.loadMsg(r);e.commit({type:"setMsg",msgs:n})},pushMsg:function(e,t){var r=t.msg,n=nt.pushMsg(r);e.commit({type:"setMsg",msgs:n})}}};function si(e){var t="tamir",r="https://api.cloudinary.com/v1_1/".concat(t,"/image/upload"),n=new FormData;return e.target?n.append("file",e.target.files[0]):n.append("file",e),n.append("upload_preset","u1inrfbp"),fetch(r,{method:"POST",body:n,secure:!0}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(error)}))}var oi={uploadImg:si};n["default"].use(Mn["a"]);var ai=new Mn["a"].Store({strict:!0,mutations:{},getters:{},actions:{addImg:function(e,t){var r=t.imgEv;return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oi.uploadImg(r);case 2:return t=e.sent,console.log(t.secure_url),e.abrupt("return",t.secure_url);case 5:case"end":return e.stop()}}),e)})))()}},modules:{projStore:Tn,userStore:Dn,reviewStore:ni,mapStore:Bn,socketStore:ii}}),ci=r("859b"),li=(r("d355"),r("5886")),ui=(r("4413"),r("5c96")),pi=r.n(ui),di=r("b2d6"),gi=r.n(di),mi=(r("b7e3"),r("755e"));n["default"].use(ci["Datetime"]),n["default"].use(li["a"]),n["default"].use(pi.a,{locale:gi.a}),n["default"].component("datetime",ci["Datetime"]),n["default"].config.productionTip=!1,n["default"].use(mi,{load:{key:"AIzaSyAfOgP37XV4mv6RcyxIwOk1ajVevIhN2TM",libraries:"places"}}),new n["default"]({router:Ln,store:ai,render:function(e){return e(mt)}}).$mount("#app")},"57f4":function(e,t,r){e.exports=r.p+"img/read-mode2.bdf87573.svg"},"5aac":function(e,t,r){e.exports=r.p+"img/1.a82e115a.svg"},"720f":function(e,t,r){e.exports=r.p+"img/notification.5d56f551.svg"},"74d4":function(e,t,r){e.exports=r.p+"img/fully-booked.b77e4122.png"},7671:function(e,t,r){e.exports=r.p+"img/user-profile.1e65099c.svg"},"7c64":function(e,t,r){e.exports=r.p+"img/double-bed.eb2a2820.svg"},"7d41":function(e,t,r){e.exports=r.p+"img/icon-location.d25d9bb1.svg"},"7e4b":function(e,t,r){e.exports=r.p+"img/facebook.b5fcf817.svg"},"85dd":function(e,t,r){e.exports=r.p+"img/airport-taxi.b6f7b227.svg"},"8d59":function(e,t,r){e.exports=r.p+"img/icon-location2.e8caac7f.svg"},"8ead":function(e,t,r){e.exports=r.p+"img/bin2.95696966.svg"},9378:function(e,t,r){e.exports=r.p+"img/downloading2.8104e6ed.svg"},"94df":function(e,t,r){e.exports=r.p+"img/downloading.e5251a16.svg"},"9c1d":function(e,t,r){e.exports=r.p+"img/clean.4137d9d5.svg"},a163:function(e,t,r){e.exports=r.p+"img/ok.f89efb77.svg"},a4f9:function(e,t,r){e.exports=r.p+"img/arrows.358daf43.svg"},a5aa:function(e,t,r){e.exports=r.p+"img/icon-phone.47e54a44.svg"},a783:function(e,t,r){e.exports=r.p+"img/rolling2.f46c0fdf.svg"},a96b:function(e,t,r){e.exports=r.p+"img/airport.3cbf60e0.png"},aa5c:function(e,t,r){e.exports=r.p+"img/wifi.347b16ee.svg"},ac83:function(e,t,r){e.exports=r.p+"img/project.e706bf64.svg"},afee:function(e,t,r){e.exports=r.p+"img/communications.8cebec18.svg"},b143:function(e,t,r){e.exports=r.p+"img/bin.ab36818e.svg"},b7e3:function(e,t,r){},bb7c:function(e,t,r){e.exports=r.p+"img/close.4f9ba23c.svg"},bc10:function(e,t,r){e.exports=r.p+"img/save.640fbdaa.svg"},bca3:function(e,t,r){e.exports=r.p+"img/background-footer.75b78961.svg"},c2d3:function(e,t,r){e.exports=r.p+"img/instegram.fc23b902.svg"},c33a:function(e,t,r){e.exports=r.p+"img/single-bed.c7eaae05.svg"},c62c:function(e,t,r){e.exports=r.p+"img/pen.546ea500.svg"},d17f:function(e,t,r){e.exports=r.p+"img/image.c66293cc.svg"},d917:function(e,t,r){e.exports=r.p+"img/2.7512213e.svg"},da1c:function(e,t,r){e.exports=r.p+"img/hot-water.4230c0ec.svg"},db8f:function(e,t,r){e.exports=r.p+"img/loading2.018406c4.svg"},dc56:function(e,t,r){e.exports=r.p+"img/technology.f69ed74f.svg"},dd1f:function(e,t,r){e.exports=r.p+"img/homepage.1327d037.svg"},e336:function(e,t,r){e.exports=r.p+"img/help.66c0ea63.svg"},e461:function(e,t,r){e.exports=r.p+"img/tool.cda2b6c9.svg"},e96b:function(e,t,r){e.exports=r.p+"img/loading.e86e4ce2.svg"},eb72:function(e,t,r){e.exports=r.p+"img/maps-and-flags.1d177346.svg"},ecda:function(e,t,r){e.exports=r.p+"img/linkdin.c0c32ea6.svg"},f583:function(e,t,r){e.exports=r.p+"img/ok2.381f81eb.svg"},f95f:function(e,t,r){e.exports=r.p+"img/send.a720e904.svg"}});
//# sourceMappingURL=app.a823c75d.js.map